<!DOCTYPE html>
<html lang="kr" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.104.1" />
    <meta name="description" content="COM2018 OOP Class Lecture Note">
<meta name="author" content="Soo Young Kim">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Lecture3 - ROS 2 Node Programming, ROS 2 parameter - Documentation for Hugo Learn Theme</title>

    
    <link href="/css/nucleus.css?1684331159" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1684331159" rel="stylesheet">
    <link href="/css/hybrid.css?1684331159" rel="stylesheet">
    <link href="/css/featherlight.min.css?1684331159" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1684331159" rel="stylesheet">
    <link href="/css/auto-complete.css?1684331159" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1684331159" rel="stylesheet">
    <link href="/css/theme.css?1684331159" rel="stylesheet">
    <link href="/css/tabs.css?1684331159" rel="stylesheet">
    <link href="/css/hugo-theme.css?1684331159" rel="stylesheet">
    
    <link href="/css/theme-green.css?1684331159" rel="stylesheet">
    
    <link href="/css/foo.css?1684331159" rel="stylesheet"><link href="/css/bar.css?1684331159" rel="stylesheet">

    <script src="/js/jquery-3.3.1.min.js?1684331159"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/kr/ros2_basic_foxy/lecture3/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <img width="1097" alt="image" src="https://user-images.githubusercontent.com/12381733/209764275-05dcbdbf-cef7-47ad-94a6-6d61febad01e.png">
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1684331159"></script>
<script type="text/javascript" src="/js/auto-complete.js?1684331159"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/kr";
    
</script>
<script type="text/javascript" src="/js/search.js?1684331159"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/kr'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/kr/ros_basic_noetic/" title="ROS Basics" class="dd-item
        
        
        
        ">
      <a href="/kr/ros_basic_noetic/">
          <b>ROS Noetic. </b>ROS Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture1/" title="Lecture1 - Introduction to ROS" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture1/">
        Lecture1 - Introduction to ROS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture2/" title="Lecture2 - Dev Env Setup" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture2/">
        Lecture2 - Dev Env Setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture3/" title="Lecture3 - Core of ROS" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture3/">
        Lecture3 - Core of ROS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture4/" title="Lecture4 - ROS Launch, RViz" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture4/">
        Lecture4 - ROS Launch, RViz
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture5/" title="Lecture5 - First Programming, ROS Topic" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture5/">
        Lecture5 - First Programming, ROS Topic
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture6/" title="Lecture6 - ROS Service, Parameter" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture6/">
        Lecture6 - ROS Service, Parameter
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture7/" title="Lecture7 - Rqt Tools and rosbag, ROS Time" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture7/">
        Lecture7 - Rqt Tools and rosbag, ROS Time
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture8/" title="Lecture8 - Deal with Open Source Projects, Custom Interfaces" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture8/">
        Lecture8 - Deal with Open Source Projects, Custom Interfaces
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture9/" title="Lecture9 - ROS TF and Examples" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture9/">
        Lecture9 - ROS TF and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture10/" title="Lecture10 - TF2 Examples, Outro" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture10/">
        Lecture10 - TF2 Examples, Outro
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/advanced_contents_ros1/" title="ROS" class="dd-item
        
        
        
        ">
      <a href="/kr/advanced_contents_ros1/">
          <b>Advanced Contents. </b>ROS
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros1/lecture1/" title="Lecture1 - ROSCPP" class="dd-item ">
        <a href="/kr/advanced_contents_ros1/lecture1/">
        Lecture1 - ROSCPP
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros1/lecture2/" title="Lecture2 - More About ROS System" class="dd-item ">
        <a href="/kr/advanced_contents_ros1/lecture2/">
        Lecture2 - More About ROS System
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros1/lecture3/" title="Lecture3 - SROS" class="dd-item ">
        <a href="/kr/advanced_contents_ros1/lecture3/">
        Lecture3 - SROS
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/ros2_basic_foxy/" title="ROS 2 Basics" class="dd-item
        parent
        
        
        ">
      <a href="/kr/ros2_basic_foxy/">
          <b>[Old]ROS 2 Foxy. </b>ROS 2 Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture1/" title="Lecture1 - Introduction to ROS 2" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture1/">
        Lecture1 - Introduction to ROS 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture2/" title="Lecture2 - ROS 2 Node, Package" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture2/">
        Lecture2 - ROS 2 Node, Package
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture3/" title="Lecture3 - ROS 2 Node Programming, ROS 2 parameter" class="dd-item active">
        <a href="/kr/ros2_basic_foxy/lecture3/">
        Lecture3 - ROS 2 Node Programming, ROS 2 parameter
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture4/" title="Lecture4 - ROS 2 Node C&#43;&#43; Programming" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture4/">
        Lecture4 - ROS 2 Node C&#43;&#43; Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture5/" title="Lecture5 - ROS 2 Topic and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture5/">
        Lecture5 - ROS 2 Topic and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture6/" title="Lecture6 - ROS 2 Service and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture6/">
        Lecture6 - ROS 2 Service and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture7/" title="Lecture7 - Useful ROS 2 Example, Navigation2" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture7/">
        Lecture7 - Useful ROS 2 Example, Navigation2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture8/" title="Lecture8 - ROS 2 Action and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture8/">
        Lecture8 - ROS 2 Action and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture9/" title="Lecture9 - C&#43;&#43; Programming Again, Outro" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture9/">
        Lecture9 - C&#43;&#43; Programming Again, Outro
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/ros2_foxy/" title="ROS 2 Basics" class="dd-item
        
        
        
        ">
      <a href="/kr/ros2_foxy/">
          <b>[New]ROS 2 Foxy. </b>ROS 2 Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture1/" title="Lecture1. What is ROS?" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture1/">
        Lecture1. What is ROS?
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture2/" title="Lecture2. Dev Env Setup" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture2/">
        Lecture2. Dev Env Setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture3/" title="Lecture3. Core of ROS" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture3/">
        Lecture3. Core of ROS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture4/" title="Lecture4. ROS 2 Node and Parameter Programming" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture4/">
        Lecture4. ROS 2 Node and Parameter Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture5/" title="Lecture5. ROS 2 Communication Mechanisms" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture5/">
        Lecture5. ROS 2 Communication Mechanisms
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture6/" title="Lecture6. ROS 2 Tools" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture6/">
        Lecture6. ROS 2 Tools
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture7/" title="Lecture7. ROS 2 Topic and Programming" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture7/">
        Lecture7. ROS 2 Topic and Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture8/" title="Lecture8. ROS 2 Service and Programming" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture8/">
        Lecture8. ROS 2 Service and Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture9/" title="Lecture9. ROS 2 Action Programming" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture9/">
        Lecture9. ROS 2 Action Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture10/" title="Lecture10. TF and ROS 2" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture10/">
        Lecture10. TF and ROS 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture11/" title="Lecture11. About Gazebo - 1" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture11/">
        Lecture11. About Gazebo - 1
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture12/" title="Lecture12. About Gazebo - 2" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture12/">
        Lecture12. About Gazebo - 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture13/" title="Lecture13. Useful ROS 2 Examples (Sensor Part)" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture13/">
        Lecture13. Useful ROS 2 Examples (Sensor Part)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture14/" title="Lecture14. Useful ROS 2 Examples (Control Part)" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture14/">
        Lecture14. Useful ROS 2 Examples (Control Part)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture15/" title="Lecture15. Advanced ROS 2, Package Management" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture15/">
        Lecture15. Advanced ROS 2, Package Management
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture16/" title="Lecture16. Useful ROS 2 Examples (Misc)" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture16/">
        Lecture16. Useful ROS 2 Examples (Misc)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture17/" title="Lecture17. Real Hardware Examples" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture17/">
        Lecture17. Real Hardware Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture18/" title="Lecture18. Point Cloud Deep Learning Example (PointNet)" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture18/">
        Lecture18. Point Cloud Deep Learning Example (PointNet)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture19/" title="Lecture19. NVIDIA Isaac Sim" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture19/">
        Lecture19. NVIDIA Isaac Sim
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture20/" title="Lecture20. NVIDIA Jetson Platform" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture20/">
        Lecture20. NVIDIA Jetson Platform
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/advanced_contents_ros2/" title="ROS 2" class="dd-item
        
        
        
        ">
      <a href="/kr/advanced_contents_ros2/">
          <b>Advanced Contents. </b>ROS 2
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros2/lecture1/" title="Lecture1 - About DDS" class="dd-item ">
        <a href="/kr/advanced_contents_ros2/lecture1/">
        Lecture1 - About DDS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros2/lecture2/" title="Lecture11 - About DDS (2)" class="dd-item ">
        <a href="/kr/advanced_contents_ros2/lecture2/">
        Lecture11 - About DDS (2)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros2/lecture3/" title="Lecture12 - SROS2" class="dd-item ">
        <a href="/kr/advanced_contents_ros2/lecture3/">
        Lecture12 - SROS2
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/ros_and_gazebo/" title="Gazebo and ROS" class="dd-item
        
        
        
        ">
      <a href="/kr/ros_and_gazebo/">
          <b>Gazebo. </b>Gazebo and ROS
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_and_gazebo/lecture1/" title="Lecture1 - Gazebo and Robot" class="dd-item ">
        <a href="/kr/ros_and_gazebo/lecture1/">
        Lecture1 - Gazebo and Robot
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_and_gazebo/lecture2/" title="Lecture2 - Gazebo and Robot(2)" class="dd-item ">
        <a href="/kr/ros_and_gazebo/lecture2/">
        Lecture2 - Gazebo and Robot(2)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/RB2023ROS/du2023-ros1"><i class='fab fa-fw fa-github'></i> GitHub repo - ROS 1</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/RB2023ROS/du2023-ros2"><i class='fab fa-fw fa-github'></i> GitHub repo - ROS 2</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="kr" value="/kr/ros2_basic_foxy/lecture3/" selected>Korean</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='' href="https://github.com/com2018-fa22/hugo-blog/tree/main/content/ros2_basic_foxy/lecture3.kr.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                   Lecture3 - ROS 2 Node Programming, ROS 2 parameter
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#example-1---hello-ros-2">example 1 - Hello ROS 2</a></li>
        <li><a href="#setuppy-수정">setup.py 수정</a></li>
        <li><a href="#example-2---timer">example 2 - timer</a></li>
        <li><a href="#example-3---spin_once-spin">example 3 - spin_once, spin</a></li>
        <li><a href="#example-4---oop-node">example 4 - OOP Node</a></li>
        <li><a href="#example-5---logger-level"><strong>example 5 - Logger Level</strong></a></li>
        <li><a href="#ros-2-parameter">ROS 2 Parameter</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Lecture3 - ROS 2 Node Programming, ROS 2 parameter
            </h1>
          

        


<blockquote>
<p>Python을 사용하여 Node Programming을 실습해봅시다. 강의 마지막에는 간단히 C++ 코딩에 대해서도 다뤄보겠습니다.</p>
</blockquote>
<h3 id="example-1---hello-ros-2">example 1 - Hello ROS 2</h3>
<p>강의를 위해 준비된 예제 코드 패키지를 실습하고 분석하겠습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ colcon build --packages-select cbp py_node_tutorial
</span></span><span style="display:flex;"><span>$ source install/local_setup.bash
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ros2 run py_node_tutorial example_node_1
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1672463872.778216198<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>example_node_1<span style="color:#f92672">]</span>:
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS 2 <span style="color:#f92672">====</span>
</span></span></code></pre></div><ul>
<li>모든 예제 코드는 아래 링크에서 확인할 수 있습니다.</li>
</ul>
<p><a href="https://github.com/RB2023ROS/du2023-ros2/tree/main/py_node_tutorial/py_node_tutorial">https://github.com/RB2023ROS/du2023-ros2/tree/main/py_node_tutorial/py_node_tutorial</a></p>
<blockquote>
<p>코드 분석을 차근차근 함께 해보겠습니다.</p>
</blockquote>
<p><strong>rcl</strong>은 <strong>ROS Client Libraries</strong>의 약자로 ROS 2에서는 <strong>rclc, rclcpp, rclpy, rcljs</strong>와 같은 다양한 언어를 지원하고 있습니다. 파이썬에서 ROS 2 개발을 하기 위해서는 필수적으로 rclpy의 import가 필요하며 Node의 사용을 위해서는 Node class를 import 해야 합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># !/usr/bin/env python3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> rclpy
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> rclpy.node <span style="color:#f92672">import</span> Node
</span></span></code></pre></div><ul>
<li>rclpy 코딩 규칙</li>
</ul>
<p>ROS 2에서 파이썬 파일을 조회하고 실행하는 과정이 있어 아래와 같이 main()부분을 항상 따로 분리하여 작성하도록 합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;main function&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><ul>
<li>Node 생성</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Do enter into this main function first.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    rclpy<span style="color:#f92672">.</span>init(args<span style="color:#f92672">=</span>args)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">=</span> Node(<span style="color:#e6db74">&#39;node_name&#39;</span>)
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">.</span>get_logger()<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">==== Hello ROS 2 ====&#39;</span>)
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">.</span>destroy_node()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rclpy<span style="color:#f92672">.</span>shutdown()
</span></span></code></pre></div><p>실제 동작을 수행하는 main 함수를 살펴보면 다음과 같은 과정을 거치고 있습니다.</p>
<ol>
<li><strong>rclpy.init</strong>을 통해 initialization, 즉 초기화를 하고 있습니다.</li>
<li><strong>node = Node(&rsquo;node_name&rsquo;)</strong> : Node를 생성하는 부분으로 앞서 import한 Node class를 사용하고 있습니다. 매개변수로 node의 이름이 들어갑니다.</li>
<li><strong>node.destroy_node()</strong> : Node를 생성하고 원하는 작업을 모두 수행했다면, 이제 사용했던 Node를 제거해야 할 것입니다. 그래야 불필요한 자원의 낭비를 줄일 수 있겠지요.</li>
<li><strong>rclpy.shutdown()</strong> : 이번 예제의 제일 첫 부분에 rclpy.init을 통하여 초기화를 해주었습니다. 이제 rclpy를 통한 작업이 모두 끝났으므로 안전하게 종료시켜줍니다.</li>
</ol>
<p>위 과정이 Python에서 rclpy를 통해 Node를 다루는 기본 절차입니다.</p>

<div class="notices note" ><p>1과 4, 2와 3이 짝꿍처럼 보이지요?</p>
</div>

<h3 id="setuppy-수정">setup.py 수정</h3>
<blockquote>
<p>파이썬 파일을 <code>ros2 run</code> 으로 실행하기 위해서 패키지 내 <strong>setup.py</strong> 파일에 <strong>entry_points</strong>를 추가해 주어야 합니다.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    entry_points<span style="color:#f92672">=</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;console_scripts&#39;</span>: [
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;example_node_1 = py_node_tutorial.node_example_1:main&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;example_node_2 = py_node_tutorial.node_example_2:main&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;example_node_3 = py_node_tutorial.node_example_3:main&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;example_node_4 = py_node_tutorial.node_example_4:main&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;example_node_5 = py_node_tutorial.node_example_5:main&#39;</span>,
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>    },
</span></span></code></pre></div><p>작성하는 방법은 다음과 같습니다. ⇒ <code>실행 시 사용될 이름 = &lt;패키지 이름&gt;.&lt;파일 이름&gt;.main</code></p>
<h3 id="example-2---timer">example 2 - timer</h3>
<ul>
<li>로봇은 실행된 이후 계속해서 작업을 수행해야 하기에 주기적으로 무언가를 실행하는 일이 잦습니다. 이를 구현하는 <strong>Timer</strong>를 살펴봅시다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ros2 run py_node_tutorial example_node_2
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : 1<span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : 2<span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : 3<span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : 4<span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : 5<span style="color:#f92672">====</span>
</span></span></code></pre></div><ul>
<li>main문에 추가된 <strong>create_timer</strong>와 timer_callback 함수를 확인할 수 있습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">timer_callback</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Timer will run this function periodically.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> count
</span></span><span style="display:flex;"><span>    count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;==== Hello ROS 2 : </span><span style="color:#e6db74">{</span>count<span style="color:#e6db74">}</span><span style="color:#e6db74">====&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Do enter into this main function first.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    rclpy<span style="color:#f92672">.</span>init(args<span style="color:#f92672">=</span>args)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">=</span> Node(<span style="color:#e6db74">&#39;node_name&#39;</span>)
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">.</span>create_timer(<span style="color:#ae81ff">0.2</span>, timer_callback)
</span></span><span style="display:flex;"><span>    rclpy<span style="color:#f92672">.</span>spin(node)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">.</span>destroy_node()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rclpy<span style="color:#f92672">.</span>shutdown()
</span></span></code></pre></div><p>timer를 생성하기 위해서 <strong>create_timer</strong> 함수가 사용됩니다.</p>
<ul>
<li><strong>timer_period_sec</strong> : 실행 주기 (초)</li>
<li><strong>callback</strong> : 해당 주기마다 실행될 함수</li>
</ul>
<p><img src="/kr/ros2_basic_foxy/images3/lec3_0.png?height=250px" alt="lec3_0.png"></p>
<p>image from : <a href="https://docs.ros2.org/latest/api/rclpy/api/node.html">docs.ros2.org</a></p>
<h3 id="example-3---spin_once-spin">example 3 - spin_once, spin</h3>
<blockquote>
<p>Node의 상태를 살피면서 반복 실행시키는 <strong>spin</strong> 함수에 대해 좀 더 자세하게 살펴봅니다.</p>
</blockquote>
<ul>
<li>예제 실행</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> ros2 run py_node_tutorial example_node_3
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">1</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">2</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">3</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span></code></pre></div><ul>
<li>주요 코드를 분석해 보겠습니다.</li>
</ul>
<p>Node는 상태를 지속 유지하면서 변경된 내용에 따라 지정된 동작을 수행해야 합니다. 이는 로봇 프로그램에서 매우 보편적인 작업으로, ROS 2에서는 **spin()**이라는 이름의 함수로 기능을 제공하고 있습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Do enter into this main function first.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    rclpy<span style="color:#f92672">.</span>init(args<span style="color:#f92672">=</span>args)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">=</span> Node(<span style="color:#e6db74">&#39;node_name&#39;</span>)
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">.</span>create_timer(<span style="color:#ae81ff">0.2</span>, timer_callback)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        rclpy<span style="color:#f92672">.</span>spin_once(node, timeout_sec<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">.</span>destroy_node()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rclpy<span style="color:#f92672">.</span>shutdown()
</span></span></code></pre></div><p>spin을 비롯하여 <strong>spin_once</strong>, <strong>spin_until_future_complete</strong>와 같이 프로그램의 실행을 관리하기 위한 다양한 추가 함수들이 존재합니다.</p>
<ul>
<li>timer_callback과 OOP의 필요성</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">timer_callback</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Timer will run this function periodically.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> count
</span></span><span style="display:flex;"><span>    count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;==== Hello ROS 2 : </span><span style="color:#e6db74">{</span>count<span style="color:#e6db74">}</span><span style="color:#e6db74">====&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># How can I use logger without globalization ?</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># node.get_logger().info(&#39;\n==== Hello ROS 2 ====&#39;)</span>
</span></span></code></pre></div><p>callback 함수가 사용되면 필연적으로 두 함수 간 공유되는 count와 같은 자원이 생기며, 이 count를 다루면서 예기치 못한 실수가 발생할 수 있습니다.</p>
<p>지금은 모두 전역 변수로 작업하고 있었는데, 이것을 어떻게 효율적으로 처리할 수 있을까요?</p>
<h3 id="example-4---oop-node">example 4 - OOP Node</h3>
<ul>
<li>예제 실행의 결과는 이전과 같습니다. 하지만 구현에서 차이를 갖습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> ros2 run py_node_tutorial example_node_5
</span></span><span style="display:flex;"><span>[INFO] [<span style="color:#ae81ff">1657348011.971419700</span>] [composition_example_node]: <span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">1</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span>[INFO] [<span style="color:#ae81ff">1657348012.163466100</span>] [composition_example_node]: <span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">2</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span>[INFO] [<span style="color:#ae81ff">1657348012.363590700</span>] [composition_example_node]: <span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">3</span><span style="color:#f92672">====</span>
</span></span></code></pre></div><ul>
<li>class를 사용하여 Node를 구현한 모습을 확인할 수 있습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NodeClass</span>(Node):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Second Node Class.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Just print log periodically.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Node Initialization.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        You must type name of the node in inheritanced initializer.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>__init__(<span style="color:#e6db74">&#39;composition_example_node&#39;</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>create_timer(<span style="color:#ae81ff">0.2</span>, self<span style="color:#f92672">.</span>timer_callback)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_count <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">timer_callback</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Timer will run this function periodically.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>get_logger()<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;==== Hello ROS 2 : </span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>_count<span style="color:#e6db74">}</span><span style="color:#e6db74">====&#39;</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>ROS 1과 달리, ROS 2의 OOP 구현은 <strong>Node</strong>를 상속받습니다. (때문에 생성 시, Node이름을 <code>super().__init__()</code>안에 넣어주어야 합니다.)</p>

<div class="notices tip" ><p>이렇게 객체지향을 사용하면 Node의 기능들을 적극 활용하여 더욱 쉽고 강력한 ROS 2 개발이 가능해집니다. 앞으로의 예시에서는 모두 객체 지향을 사용하겠습니다.</p>
</div>

<ul>
<li><strong>rclpy logger</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    super()<span style="color:#f92672">.</span>__init__(<span style="color:#e6db74">&#39;node_name&#39;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">.</span>get_logger()<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">==== Hello ROS 2 ====&#39;</span>)
</span></span></code></pre></div><p>rospy.loginfo()와 같이 rclpy에서도 <strong>get_logger</strong>라는 logging API를 제공합니다. 다만, rclpy의 logger는 Node에 종속되는 개념입니다. (ROS 2에서는 여러 Node가 하나의 프로세스 안에서 실행될 수 있기 때문입니다.)</p>
<p>get_logger()를 사용하면 일반적인 print 콘솔 출력과는 달리, 실행중인 Node이름, 시간, 위험성 등을 디버깅할 수 있어 이후 복잡한 시스템에서 큰 도움이 됩니다.</p>
<h3 id="example-5---logger-level"><strong>example 5 - Logger Level</strong></h3>
<ul>
<li>기본 node 프로그래밍의 마지막 예시입니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> ros2 run py_node_tutorial example_node_5
</span></span><span style="display:flex;"><span>[INFO] [<span style="color:#ae81ff">1657348108.163389800</span>] [node_name]: <span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">1</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span>[WARN] [<span style="color:#ae81ff">1657348108.163810900</span>] [node_name]: <span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">1</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span>[ERROR] [<span style="color:#ae81ff">1657348108.164126200</span>] [node_name]: <span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">1</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span>[FATAL] [<span style="color:#ae81ff">1657348108.164514300</span>] [node_name]: <span style="color:#f92672">====</span> Hello ROS <span style="color:#ae81ff">2</span> : <span style="color:#ae81ff">1</span><span style="color:#f92672">====</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span></code></pre></div><p><img src="/kr/ros2_basic_foxy/images3/py_node_logger.gif?height=300px" alt="py_node_logger.gif"></p>
<p>ROS 1에서와 유사하게 ROS 2에서도 위험도에 따라서 다른 logger level을 적용할 수 있습니다.</p>
<p>info를 기준으로 아래로 갈수록 높은 레벨의 log이며, 제일 심각한 error와 fatal의 경우, 콘솔 출력시에도 빨간 글씨로 보이는 것을 확인할 수 있습니다.</p>
<p><img src="/kr/ros2_basic_foxy/images3/lec3_1.png?height=200px" alt="lec3_1.png"></p>
<ul>
<li>image from : <a href="https://blog.51cto.com/u_7784550/5675313">51CTO</a></li>
</ul>
<p>debug의 경우 실제 콘솔 출력으로는 나타나지 않으며, 효과적인 Tracking을 위해 ROS 1 강의에서 배운 <strong>rqt console</strong> 사용을 권장합니다.</p>
<p><img src="/kr/ros2_basic_foxy/images3/lec3_2.png?height=300px" alt="lec3_2.png"></p>
<h3 id="ros-2-parameter">ROS 2 Parameter</h3>
<blockquote>
<p>ROS 1에서와 마찬가지로, ROS 2에서도 각종 매개변수를 다룰 수 있는 커멘드 명령어와 코드 API를 제공합니다.</p>
</blockquote>
<ul>
<li>예제 Package 빌드와 실행</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ colcon build --packages-select py_param_tutorial
</span></span><span style="display:flex;"><span>$ source install/local_setup.bash
</span></span><span style="display:flex;"><span>$ ros2 run py_param_tutorial param_example
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1672390971.030532687<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>param_ex_node<span style="color:#f92672">]</span>:
</span></span><span style="display:flex;"><span>string_param: world
</span></span><span style="display:flex;"><span>int_param: <span style="color:#ae81ff">119</span>
</span></span><span style="display:flex;"><span>float_param: 3.1415
</span></span><span style="display:flex;"><span>arr_param: <span style="color:#f92672">[</span>1, 2, 3<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>nested_param.string_param: Wee Woo
</span></span></code></pre></div><p>param_ex_node에서 5종류의 매개변수가 선언되었습니다. 이들을 확인하는 커멘드 라인을 배워봅시다.</p>
<ul>
<li>ros2 param list</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ros2 param list
</span></span><span style="display:flex;"><span>/param_ex_node:
</span></span><span style="display:flex;"><span>  arr_param
</span></span><span style="display:flex;"><span>  float_param
</span></span><span style="display:flex;"><span>  int_param
</span></span><span style="display:flex;"><span>  nested_param.string_param
</span></span><span style="display:flex;"><span>  string_param
</span></span><span style="display:flex;"><span>  use_sim_time
</span></span></code></pre></div><ul>
<li>ros2 param get/set - node 이름과 매개변수 이름을 모두 필요로 함에 주의합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ros2 param get /param_ex_node arr_param
</span></span><span style="display:flex;"><span>Integer values are: array<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;q&#39;</span>, <span style="color:#f92672">[</span>1, 2, 3<span style="color:#f92672">])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ros2 param set /param_ex_node arr_param <span style="color:#e6db74">&#39;[1,2,3,4]&#39;</span>
</span></span><span style="display:flex;"><span>Set parameter successful
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ros2 param get /param_ex_node arr_param
</span></span><span style="display:flex;"><span>Integer values are: array<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;q&#39;</span>, <span style="color:#f92672">[</span>1, 2, 3, 4<span style="color:#f92672">])</span>
</span></span></code></pre></div><p>이제, 파이썬 코드를 분석해봅시다.</p>
<ul>
<li>parameter의 생성은 node 내에서 이루어지며, <strong>declare_parameter</strong>를 통해 생성합니다. 함수의 두번째 인자는 기본값입니다.</li>
</ul>
<p><strong>nested_param</strong>과 같이, parameter는 계층 구조를 가질 수 있으며 . 을 통해 구분할 수 있습니다. string_param이라는 이름을 가진 parameter가 두 종류 존재하지만 서로 소속된 계층이 달라 공존할 수 있는 것입니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ParamExNode</span>(rclpy<span style="color:#f92672">.</span>node<span style="color:#f92672">.</span>Node):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>__init__(<span style="color:#e6db74">&#39;param_ex_node&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>declare_parameter(<span style="color:#e6db74">&#39;string_param&#39;</span>, <span style="color:#e6db74">&#39;world&#39;</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>declare_parameter(<span style="color:#e6db74">&#39;int_param&#39;</span>, <span style="color:#ae81ff">119</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>declare_parameter(<span style="color:#e6db74">&#39;float_param&#39;</span>, <span style="color:#ae81ff">3.1415</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>declare_parameter(<span style="color:#e6db74">&#39;arr_param&#39;</span>, [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>declare_parameter(<span style="color:#e6db74">&#39;nested_param.string_param&#39;</span>, <span style="color:#e6db74">&#39;Wee Woo&#39;</span>)
</span></span></code></pre></div><ul>
<li>선언된 매개변수의 값은 <strong>get_parameter</strong>를 통해 확인 가능합니다. get_parameter 자체는 Object이고, value 속성이 실제 값을 갖고 있습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    string_param <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_parameter(<span style="color:#e6db74">&#39;string_param&#39;</span>)
</span></span><span style="display:flex;"><span>    int_param <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_parameter(<span style="color:#e6db74">&#39;int_param&#39;</span>)
</span></span><span style="display:flex;"><span>    float_param <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_parameter(<span style="color:#e6db74">&#39;float_param&#39;</span>)
</span></span><span style="display:flex;"><span>    arr_param <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_parameter(<span style="color:#e6db74">&#39;arr_param&#39;</span>)
</span></span><span style="display:flex;"><span>    nested_param <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_parameter(<span style="color:#e6db74">&#39;nested_param.string_param&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    self<span style="color:#f92672">.</span>get_logger()<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">string_param: </span><span style="color:#e6db74">{</span>string_param<span style="color:#f92672">.</span>value<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">        </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">int_param: </span><span style="color:#e6db74">{</span>int_param<span style="color:#f92672">.</span>value<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">        </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">float_param: </span><span style="color:#e6db74">{</span>float_param<span style="color:#f92672">.</span>value<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">        </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">arr_param: </span><span style="color:#e6db74">{</span>arr_param<span style="color:#f92672">.</span>value<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">        </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">nested_param.string_param: </span><span style="color:#e6db74">{</span>nested_param<span style="color:#f92672">.</span>value<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    )
</span></span></code></pre></div><ul>
<li>parameter는 launch file에서도 설정할 수 있습니다. - Hello, 112로 변경된 값을 확인해봅시다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ros2 launch py_param_tutorial launch_with_param.launch.py
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>param_example-1<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1672387864.135213913<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>param_example<span style="color:#f92672">]</span>:
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>param_example-1<span style="color:#f92672">]</span> string_param: Hello
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>param_example-1<span style="color:#f92672">]</span> int_param: <span style="color:#ae81ff">112</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>param_example-1<span style="color:#f92672">]</span> float_param: 3.1415
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>param_example-1<span style="color:#f92672">]</span> arr_param: <span style="color:#f92672">[</span>1, 2, 3<span style="color:#f92672">]</span>
</span></span></code></pre></div><ul>
<li>launch file의 parameters 옵션을 사용하여 이러한 작업이 가능합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">generate_launch_description</span>():
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    param_ex_node <span style="color:#f92672">=</span> Node(
</span></span><span style="display:flex;"><span>        package<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;py_param_tutorial&#39;</span>,
</span></span><span style="display:flex;"><span>        executable<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;param_example&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;param_example&#39;</span>,
</span></span><span style="display:flex;"><span>        output<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;screen&#39;</span>,
</span></span><span style="display:flex;"><span>        parameters<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;string_param&#39;</span>: <span style="color:#e6db74">&#39;Hello&#39;</span>},
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;int_param&#39;</span>: <span style="color:#ae81ff">112</span>},
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>    )
</span></span></code></pre></div><ul>
<li>parameter가 매우 많은 경우에는 ROS 1에서와 같이 yaml 파일을 사용해 관리할 수 있습니다. launch file의 주석된 부분을 해제하고 다시 실행해봅시다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    config <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(
</span></span><span style="display:flex;"><span>        get_package_share_directory(<span style="color:#e6db74">&#39;py_param_tutorial&#39;</span>), <span style="color:#e6db74">&#39;config&#39;</span>, <span style="color:#e6db74">&#39;params.yaml&#39;</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    param_ex_node <span style="color:#f92672">=</span> Node(
</span></span><span style="display:flex;"><span>        package <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;py_param_tutorial&#39;</span>,
</span></span><span style="display:flex;"><span>        executable <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;param_example&#39;</span>,
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;param_example&#39;</span>,
</span></span><span style="display:flex;"><span>        output<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;screen&#39;</span>,
</span></span><span style="display:flex;"><span>        parameters <span style="color:#f92672">=</span> [config]
</span></span><span style="display:flex;"><span>    )
</span></span></code></pre></div><p>모든 매개변수들이 변경된 것을 확인 가능합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> ros2 launch py_param_tutorial launch_with_param<span style="color:#f92672">.</span>launch<span style="color:#f92672">.</span>py
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>[param_example<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] [INFO] [<span style="color:#ae81ff">1672391557.995024614</span>] [param_example]:
</span></span><span style="display:flex;"><span>[param_example<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] string_param: Yaml Yaml
</span></span><span style="display:flex;"><span>[param_example<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] int_param: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>[param_example<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] float_param: <span style="color:#ae81ff">3.14</span>
</span></span><span style="display:flex;"><span>[param_example<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] arr_param: [<span style="color:#e6db74">&#39;I&#39;</span>, <span style="color:#e6db74">&#39;love&#39;</span>, <span style="color:#e6db74">&#39;ROS 2&#39;</span>]
</span></span><span style="display:flex;"><span>[param_example<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] nested_param<span style="color:#f92672">.</span>string_param: Ooh Wee
</span></span></code></pre></div><ul>
<li>yaml 파일은 config/params.yaml에 위치하고 있습니다. parameter 관리 용도로 사용하기 위해서 yaml 파일은 일정한 규칙을 갖춰야 합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">param_example</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ros__parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">string_param</span>: <span style="color:#e6db74">&#34;Yaml Yaml&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">int_param</span>: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">float_param</span>: <span style="color:#ae81ff">3.14</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">arr_param</span>: [<span style="color:#e6db74">&#39;I&#39;</span>, <span style="color:#e6db74">&#39;love&#39;</span>, <span style="color:#e6db74">&#39;ROS 2&#39;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">nested_param</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">string_param</span>: <span style="color:#e6db74">&#34;Ooh Wee&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;node-name&gt;</span>:
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">ros__parameters</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;param-name&gt;</span>: <span style="color:#ae81ff">&lt;param-value&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;nested-layer-name&gt;</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;param-name&gt;</span>: <span style="color:#ae81ff">&lt;param-value&gt;</span>
</span></span></code></pre></div><ul>
<li>이렇게 새로운 폴더와 파일을 추가한 경우, python 패키지의 setup.py를 수정해주어야 하며 패키지 빌드도 새로 해주어야 합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> glob <span style="color:#f92672">import</span> glob
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> setuptools <span style="color:#f92672">import</span> setup
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>package_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;py_param_tutorial&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>setup(
</span></span><span style="display:flex;"><span>    name<span style="color:#f92672">=</span>package_name,
</span></span><span style="display:flex;"><span>    version<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;0.0.0&#39;</span>,
</span></span><span style="display:flex;"><span>    packages<span style="color:#f92672">=</span>[package_name],
</span></span><span style="display:flex;"><span>    data_files<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;share/ament_index/resource_index/packages&#39;</span>,
</span></span><span style="display:flex;"><span>            [<span style="color:#e6db74">&#39;resource/&#39;</span> <span style="color:#f92672">+</span> package_name]),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;share/&#39;</span> <span style="color:#f92672">+</span> package_name, [<span style="color:#e6db74">&#39;package.xml&#39;</span>]),
</span></span><span style="display:flex;"><span>        (os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;share&#39;</span>, package_name, <span style="color:#e6db74">&#39;config&#39;</span>), glob(<span style="color:#e6db74">&#39;config/*.yaml&#39;</span>)),
</span></span><span style="display:flex;"><span>        (os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;share&#39;</span>, package_name, <span style="color:#e6db74">&#39;launch&#39;</span>), glob(<span style="color:#e6db74">&#39;launch/*.launch.py&#39;</span>)),
</span></span><span style="display:flex;"><span>    ],
</span></span></code></pre></div><ul>
<li>launch file에 추가된 내용을 다시 살펴보면, 방금 전의 yaml 파일을 불러와서 node의 실행 option에 전달하고 있습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    config <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(
</span></span><span style="display:flex;"><span>        get_package_share_directory(<span style="color:#e6db74">&#39;py_param_tutorial&#39;</span>), <span style="color:#e6db74">&#39;config&#39;</span>, <span style="color:#e6db74">&#39;params.yaml&#39;</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    param_ex_node <span style="color:#f92672">=</span> Node(
</span></span><span style="display:flex;"><span>        package <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;py_param_tutorial&#39;</span>,
</span></span><span style="display:flex;"><span>        executable <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;param_example&#39;</span>,
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;param_example&#39;</span>,
</span></span><span style="display:flex;"><span>        output<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;screen&#39;</span>,
</span></span><span style="display:flex;"><span>        parameters <span style="color:#f92672">=</span> [config]
</span></span><span style="display:flex;"><span>    )
</span></span></code></pre></div><blockquote>
<p>아래 예시에서 보이듯이 로봇의 초기 속도, 최대/최소 값들, 하드웨어와 관련된 튜닝값 등 수많은 매개변수들이 사용되며 모두 지금 배운 parameter를 사용하게 됩니다.</p>
</blockquote>
<p><a href="https://github.com/ros-planning/navigation2/blob/main/nav2_bt_navigator/src/bt_navigator.cpp">https://github.com/ros-planning/navigation2/blob/main/nav2_bt_navigator/src/bt_navigator.cpp</a></p>
<hr>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/kr/ros2_basic_foxy/lecture2/" title="Lecture2 - ROS 2 Node, Package"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/kr/ros2_basic_foxy/lecture4/" title="Lecture4 - ROS 2 Node C&#43;&#43; Programming" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1684331159"></script>
    <script src="/js/perfect-scrollbar.min.js?1684331159"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1684331159"></script>
    <script src="/js/jquery.sticky.js?1684331159"></script>
    <script src="/js/featherlight.min.js?1684331159"></script>
    <script src="/js/highlight.pack.js?1684331159"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1684331159"></script>
    <script src="/js/learn.js?1684331159"></script>
    <script src="/js/hugo-learn.js?1684331159"></script>
    
        
            <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

