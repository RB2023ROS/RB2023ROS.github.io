[
{
	"uri": "/kr/ros_basic_noetic/",
	"title": "ROS Basics",
	"tags": [],
	"description": "",
	"content": " Lecture1. Introduction to ROS, Prior Basics Lecture2. Lecture3. Lecture4. Lecture5. Lecture6. Lecture7. Lecture8. Lecture9. Lecture10. "
},
{
	"uri": "/kr/ros2_basic_foxy/",
	"title": "ROS 2 Basics",
	"tags": [],
	"description": "",
	"content": "Chapter X Some Chapter title Lorem Ipsum.\n"
},
{
	"uri": "/kr/",
	"title": "2023 Road Balance ROS Lecture Note",
	"tags": [],
	"description": "",
	"content": "2023 ROAD BALANCE ROS LECTURE NOTE ë³¸ ì‚¬ì´íŠ¸ëŠ” 2023ë…„ Road Balanceì˜ ROS/ROS 2 ê°•ì˜ì— ì‚¬ìš©ë˜ëŠ” ê°•ì˜ ë…¸íŠ¸ì…ë‹ˆë‹¤.\ní˜„ì¬ê¹Œì§€ ì •ë¦¬ëœ ê°•ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\nCurrently Organized Lectures\u0026hellip;\nLecture 1. Course Introduction \u0026amp; Java Basics Lecture 2. Classes and Objects, Static, Types Lecture 3. Defining \u0026amp; Instantiating, Static vs Non-static, Managing - Complexity, Primitive Types Lecture 4. Unit Testing Lecture 5. Linked List (IntList \u0026amp; SLList), PUBLIC VS PRIVATE, Nested Classes, List \u0026amp; Array Lecture 6. Doubly Linked List, Generic Lists, AList Lecture 7. Inheritance and Interface, Overriding and Overloading Lecture 8. Java Built in Interfaces, Set, Exception, Iteration and Useful Class Methods "
},
{
	"uri": "/kr/ros_basic_noetic/lecture2/",
	"title": "Lecture2 - Core of ROS",
	"tags": [],
	"description": "",
	"content": " ì§€ë‚œ ì‹œê°„ ê°œë°œí™˜ê²½ ì„¸íŒ…ì„ ì˜ ì§„í–‰í•˜ì˜€ëŠ”ì§€ í™•ì¸ì„ í•´ë³´ë©´ì„œ ê°•ì˜ë¥¼ ì‹œì‘í•´ë³´ê² ìŠµë‹ˆë‹¤.\ní„°ë¯¸ë„ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•œ ë’¤, gazeboë¥¼ ì‹¤í–‰í•´ ë´…ì‹œë‹¤.\ngazebo ìœ„ ì‚¬ì§„ê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¤ì§€ ì•Šì•˜ë‹¤ë©´ ì„¤ì¹˜ê°€ ì œëŒ€ë¡œ ë˜ì§€ ì•Šì€ ê²ƒì…ë‹ˆë‹¤.\në‹¤ìŒìœ¼ë¡œ, ROS ì„¤ì¹˜ëŠ” ì˜ ë˜ì—ˆëŠ”ì§€ë„ í™•ì¸í•´ë´…ì‹œë‹¤.\n# Terminal 1 roscore # Terminal 2 rosrun rospy_tutorials talker ëª¨ë“  í™•ì¸ì´ ëë‚¬ë‹¤ë©´, ì˜ˆì œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œì¼œë³´ê² ìŠµë‹ˆë‹¤.\nHusky Gazebo ì˜ˆì œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ sudo apt-get update sudo apt-get install ros-noetic-husky-desktop sudo apt-get install ros-noetic-husky-simulator ì˜ˆì œ í”„ë¡œê·¸ë¨ ì‹¤í–‰ # Terminal 1 roslaunch husky_gazebo husky_empty_world.launch # Terminal 2 roslaunch husky_viz view_robot.launch # Terminal 3 rosrun teleop_twist_keyboard teleop_twist_keyboard.py cmd_vel:=/husky_velocity_controller/cmd_vel Terminal 1ì—ì„œ ë°œìƒí•˜ëŠ” ì•„ë˜ ì˜¤ë¥˜ëŠ” ë¬´ì‹œí•´ë„ ì¢‹ìŠµë‹ˆë‹¤.\nëª¨ë“  ì‹¤í–‰ì´ ì •ìƒ ë™ì‘í•˜ì˜€ë‹¤ë©´, Terminal 3ì—ì„œ í‚¤ë³´ë“œë¥¼ í†µí•´ Huskyë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œë´‡ì´ ì›€ì§ì„ì— ë”°ë¼ ë‘ë²ˆì§¸ í„°ë¯¸ë„ ê²°ê³¼ì˜€ë˜ Rvizì— ì•„ë˜ì™€ ê°™ì€ ë³€í™”ê°€ ìƒê¹ë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ, ìƒˆë¡œìš´ í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ì»¤ë©˜ë“œ ë¼ì¸ì„ ì‹¤í–‰ì‹œì¼œ ë´…ì‹œë‹¤. rosrun rqt_graph rqt_graph ìœ„ ê·¸ë¦¼ì€ ë°©ê¸ˆ ì „ ì‹¤í–‰í•œ ì˜ˆì œ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë– í•œ ë™ì‘ë“¤ì´ ì´ë£¨ì–´ì§€ê³  ìˆì—ˆëŠ”ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒìœ¼ë¡œ, ê°•ì˜ë¥¼ ë§ˆì¹  ë•Œë©´ ì—¬ëŸ¬ë¶„ë“¤ì€ ìœ„ ê·¸ë¦¼ì´ ì–´ë– í•œ ì˜ë¯¸ë¥¼ ê°–ëŠ”ì§€ ëª¨ë‘ ì´í•´í•˜ì‹¤ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\në‹¤ìŒìœ¼ë¡œ, í„°ë¯¸ë„ì„ ìƒˆë¡œ ì‹¤í–‰ì‹œì¼œ rosnode listì™€ rostopic listë¥¼ ì‹¤í–‰ì‹œì¼œ ë´…ì‹œë‹¤.\nrosnode list $ rosnode list /base_controller_spawner /ekf_localization /gazebo /gazebo_gui /joy_teleop/joy_node /joy_teleop/teleop_twist_joy /robot_state_publisher /rosout /teleop_twist_keyboard /twist_marker_server /twist_mux rostopic list $ rostopic list /clock /cmd_vel /diagnostics /e_stop /gazebo/link_states /gazebo/model_states /gazebo/parameter_descriptions /gazebo/parameter_updates /gazebo/performance_metrics /gazebo/set_link_state /gazebo/set_model_state ... ì•ìœ¼ë¡œì˜ ê°•ì˜ë“¤ì—ì„œ, ìœ„ ëª…ë ¹ì–´ë“¤ì´ ì–´ë– í•œ ì˜ë¯¸ë¥¼ ê°–ëŠ”ì§€ í•˜ë‚˜í•˜ë‚˜ì”© í•¨ê»˜ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nROS Node ROSëŠ” ê° í”„ë¡œì„¸ìŠ¤ë“¤ì„ Nodeë¼ëŠ” ë‹¨ìœ„ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.\në¡œë´‡ì„ ì›€ì§ì´ëŠ” Node, ì„¼ì„œì™€ í†µì‹ í•˜ëŠ” Node, ì‹œê°í™” Node ë“± ë‹¤ì–‘í•œ Nodeë“¤ì´ ì–½í˜€ ë¡œë´‡ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ê²Œ ë©ë‹ˆë‹¤. Nodeë“¤ ì‚¬ì´ì—ëŠ” ë°ì´í„°ì˜ ì†¡ìˆ˜ì‹ ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ ë‹´ë‹¹í•˜ëŠ” ROSì˜ í†µì‹  ë©”ì»¤ë‹ˆì¦˜ë“¤ì´ ìˆìœ¼ë©° ê°ê¸° ë‹¤ë¥¸ íŠ¹ì„±ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤. Nodeë“¤ë¼ë¦¬ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê¸° ìœ„í•´ì„œëŠ” ì–´ë–¤ ë…¸ë“œê°€ ì¡´ì¬í•˜ëŠ”ì§€, idëŠ” ëª‡ë²ˆì¸ì§€ ë“±ì˜ ì •ë³´ê°€ ê³µìœ ë˜ì–´ì•¼ í•  ê²ƒì…ë‹ˆë‹¤. ì•„ë˜ ê·¸ë¦¼ì˜ ROS Masterê°€ ì´ë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” ê²ƒì´ë¼ê³  ì´í•´í•˜ì‹œë©´ ë©ë‹ˆë‹¤. image from : clearpathrobotics ê·¸ë ‡ë‹¤ë©´, ë°©ê¸ˆ ìš°ë¦¬ê°€ ì‹¤í–‰í•œ ì˜ˆì‹œì—ì„œë„ ROS Masterì™€ Nodeë“¤ì´ ì‹¤í–‰ë˜ì—ˆê² êµ°ìš”!\nì‹¤í–‰ë˜ëŠ” Nodeë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.\nrosnode command $ rosnode list /base_controller_spawner /ekf_localization /gazebo /gazebo_gui /joy_teleop/joy_node /joy_teleop/teleop_twist_joy /robot_state_publisher /rosout /teleop_twist_keyboard /twist_marker_server /twist_mux rqt_graph rosrun rqt_graph rqt_graph rqt graphë¥¼ ì‚´í´ë³´ë©´, ë™ê·¸ë€ Nodeì™€ Nodeë“¤ ì‚¬ì´ì˜ ë°ì´í„° ì†¡ìˆ˜ì‹ ì´ í™”ì‚´í‘œë¡œ í‘œí˜„ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í‚¤ë³´ë“œë¥¼ í†µí•´ ì œì–´ ë°ì´í„°ë¥¼ ì†¡ì‹ í•˜ëŠ” teleop_twist_keyboardëŠ” gazebo nodeë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ìˆìœ¼ë©°, ë”°ë¼ì„œ gazeboëŠ” ì´ ë°ì´í„°ë¥¼ í†µí•´ ì‹¤ì œ ë¡œë´‡ì„ ì›€ì§ì´ê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\níŠ¹ì • Nodeì— ëŒ€í•´ì„œ ë” ìì„¸í•œ ì •ë³´ë¥¼ ì–»ê³  ì‹¶ë‹¤ë©´, rosnode info ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. $ rosnode info /base_controller_spawner -------------------------------------------------------------------------------- Node [/base_controller_spawner] Publications: * /rosout [rosgraph_msgs/Log] Subscriptions: * /clock [rosgraph_msgs/Clock] Services: * /base_controller_spawner/get_loggers * /base_controller_spawner/set_logger_level contacting node http://192.168.55.236:33811/ ... Pid: 63764 Connections: * topic: /rosout * to: /rosout * direction: outbound (43329 - 192.168.55.236:34456) [10] * transport: TCPROS * topic: /clock * to: /gazebo (http://192.168.55.236:33853/) * direction: inbound * transport: TCPROS ì´ì „ ì˜ˆì œë“¤ì€ ì¼ë‹¨ ì¢…ë£Œì‹œí‚¨ ë’¤, ê°„ë‹¨í•œ ìƒˆë¡œìš´ ì˜ˆì‹œë¥¼ ì‹¤í–‰í•´ë´…ì‹œë‹¤.\n# Terminal 1 roscore # Terminal 2 rosrun roscpp_tutorials talker # Terminal 3 rosrun roscpp_tutorials listener # Terminal 4 rqt_graph rqt_graphë¥¼ ë³´ë©´ talker â‡’ listenerë¡œ ë°ì´í„°ê°€ ì „ì†¡ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ì œ, rqt_graphë¥¼ ë³´ëŠ” ê²ƒì€ ìµìˆ™í•´ì¡Œì§€ìš”?\nì²«ë²ˆì§¸ Gazebo ì˜ˆì‹œì™€ ë‹¤ë¥¸ ì ìœ¼ë¡œ roscoreë¼ëŠ” ê²ƒì„ ì‹¤í–‰í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.\nroscoreëŠ” ROS Masterë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ëª…ë ¹ì–´ë¡œ ëª¨ë“  ROS Nodeë“¤ì€ Masterì— ì˜í•´ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì— roscoreë¥¼ í†µí•´ ì‹¤í–‰ì‹œí‚¤ê±°ë‚˜, roslaunchë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ROS Masterê°€ ì‹¤í–‰ë˜ê³  ìˆì§€ ì•Šë‹¤ë©´, ì•„ë˜ì™€ ê°™ì´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. ETH Super Mega Bot \u0026amp; ROS Workspace ROSëŠ” catkinì´ë¼ëŠ” ë¹Œë“œ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ê¸°ì¡´ c/c++ cross-platform ê°œë°œì„ ê²½í—˜í•˜ì…¨ë‹¤ë©´ cmakeì— ìµìˆ™í•˜ì‹¤í…ë°, ì´ì™€ ë§¤ìš° ë¹„ìŠ·í•©ë‹ˆë‹¤. catkinì„ í†µí•´ ì‹¤í–‰ ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ (C/C++ì˜ ë¹Œë“œ), ë¼ì´ë¸ŒëŸ¬ë¦¬, ì¸í„°í˜ì´ìŠ¤ë“¤ì„ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, catkin ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” workspaceë¼ëŠ” íŠ¹ë³„í•œ í´ë”ê°€ í•„ìš”í•©ë‹ˆë‹¤. ROS ê°œë°œì„ í•˜ë‹¤ ë³´ë©´ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ë™ì‹œì— ì§„í–‰í•˜ëŠ” ê²½ìš°ê°€ ìƒê¹ë‹ˆë‹¤. ìƒˆë¡œìš´ ì‘ì—…ì€ ìƒˆë¡œìš´ í´ë”ë¥¼ ë§Œë“¤ì–´ ì‘ì—…í•˜ë“¯ì´ ROS ì—ì„œë„ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ëŠ” ìƒˆë¡œìš´ WorkSpaceì—ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ WSë¡œ ì´ë™í•˜ê²Œ ë˜ë©´ ROSì—ê²Œ ì´ëŸ¬í•œ ë³€í™”ë¥¼ ì•Œë ¤ì¤˜ì•¼ í•˜ë©° ì´ ëª…ë ¹ì–´ê°€ source devel/setup.bash ì…ë‹ˆë‹¤. ì´ë²ˆ ê°•ì˜ìš© WSë¥¼ ë§Œë“¤ì–´ë³´ê³ , ì´í›„ ì—¬ëŸ¬ë¶„ë“¤ë§Œì˜ WSë„ ë§Œë“¤ì–´ ì‘ì—…í•´ë³´ì„¸ìš”! ì¼ë°˜ì ìœ¼ë¡œ ROSì˜ workspaceëŠ” name_wsë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë©°, ìš°ë¦¬ëŠ” catkin_wsë¼ëŠ” workspaceë¥¼ ë§Œë“¤ì–´ë³´ê³ ì í•©ë‹ˆë‹¤.\nì•„ë˜ ì»¤ë©˜ë“œ ë¼ì¸ë“¤ì„ ë”°ë¼í•´ì£¼ì„¸ìš” cd ~/ mkdir -p catkin_ws/src cd catkin_ws catkin config --init catkin build ë‹¤ìŒê³¼ ê°™ì´ build, devel, src, log í´ë”ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. ROS ì½”ë“œë“¤ì€ ëª¨ë‘ src í´ë” ì•ˆì— ìœ„ì¹˜í•˜ê²Œ ë©ë‹ˆë‹¤. src í´ë” ë‚´ë¶€ì—ì„œ ì½”ë“œ ê°œë°œ â‡’ catkinì„ ì‚¬ìš©í•œ ë¹Œë“œ â‡’ build í´ë” ë‚´ë¶€ì— ì‹¤í–‰ ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ ìƒì„±ì˜ ìˆœì„œë¡œ ê°œë°œì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ì‹¤ìŠµì„ í†µí•´ ê°œë°œ í”„ë¡œì„¸ìŠ¤ì— ìµìˆ™í•´ì ¸ë´…ì‹œë‹¤.\nì•„ë˜ í´ë”ë¥¼ catkin_ws/src ì•ˆì— ì••ì¶• í•´ì œí•©ë‹ˆë‹¤. Example Packages smb_common.zip (2 ) í„°ë¯¸ë„ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ê³  ì•„ë˜ ì»¤ë©˜ë“œ ë¼ì¸ì„ ë”°ë¼í•©ë‹ˆë‹¤. catkin build smb_description catkin build smb_gazebo catkin build smb_control source devel/setup.bash sourceë¡œ ì‹œì‘í•˜ëŠ” ë§ˆì§€ë§‰ ë¼ì¸ì€ ìƒˆë¡œìš´ ë¹Œë“œ í›„ì— í•­ìƒ ì‹¤í–‰í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. 1ê°•ì„ ì˜ ë”°ë¼í–ˆë‹¤ë©´ sdsë¼ëŠ” ë‹¨ì¶•ì–´ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\nì˜ˆì œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. roslaunch smb_gazebo smb_gazebo.launch ì‹¤í–‰ ì‹œ ë¶‰ì€ ì—ëŸ¬ ë©”ì„¸ì§€ê°€ ë‚˜ì˜¤ì§€ë§Œ ë™ì‘ë§Œ ëœë‹¤ë©´ ë¬¸ì œ ì—†ìŠµë‹ˆë‹¤.\nì´ ë¡œë´‡ì„ í•œë²ˆ ì›€ì§ì—¬ ë³¼ê¹Œìš”? - teleop ì‹¤í–‰ rosrun teleop_twist_keyboard teleop_twist_keyboard.py íŒŒì¼ êµ¬ì¡° ê´€ì ì—ì„œ, ROS Applicationì€ ì—¬ëŸ¬ Packageë“¤ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ì´ë“¤ Packageê°€ ì†ŒìŠ¤ íŒŒì¼ì„ ë‹´ê³  ìˆê³ , catkinì´ ì´ë“¤ì„ ë¹Œë“œí•˜ì—¬ ì‹¤í–‰ í”„ë¡œê·¸ë¨ë“¤ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì œê°€ ê³µìœ í•œ ì••ì¶• íŒŒì¼ ì•ˆì—ë„ 3ê°œì˜ Packageê°€ í¬í•¨ë˜ì–´ìˆë˜ ê²ƒì´ë©°, ROS ê°œë°œìë“¤ì€ ìì‹ ë“¤ì˜ ë¡œë´‡ Packageë¥¼ ê°œë°œí•˜ê³  ê³µìœ í•©ë‹ˆë‹¤. Package ìƒì„± ì‹¤ìŠµ Packageë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\ncd \u0026lt;your-ws\u0026gt;/src catkin_create_pkg \u0026lt;package_name\u0026gt; [depend1] [depend2] [depend3] my_first_packageë¼ëŠ” packageë¥¼ ì‹œí—˜ì‚¼ì•„ ìƒì„±í•´ë´…ì‹œë‹¤.\n# exameple $ catkin_create_pkg my_first_package rospy std_msgs Created file my_first_package/package.xml Created file my_first_package/CMakeLists.txt Created folder my_first_package/src Successfully created files in /home/kimsooyoung/catkin_ws/src/my_first_package. Please adjust the values in package.xml. dependì—ëŠ” í•´ë‹¹ íŒ¨í‚¤ì§€ì˜ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ë“¤ì´ ë‚˜ì—´ë˜ë©°, rospyëŠ” íŒŒì´ì¬ì„ í†µí•´ ROSë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì˜ì¡´ì„±ì…ë‹ˆë‹¤.\në¯¸ë¦¬ ì œê³µë˜ì—ˆë˜ Package, smb_gazeboë¥¼ ì‚´í´ë´…ì‹œë‹¤.\nGazebo ì‹¤í–‰ì— í•„ìš”í•œ ëª¨ë¸ íŒŒì¼ê³¼ í™˜ê²½ íŒŒì¼ ë“± ê¸°ëŠ¥ë³„ ì •ë¦¬ëœ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ Packageë¥¼ ì˜ êµ¬ì„±í•´ë‘ë©´ ì´í›„ ì½”ë“œì˜ ê´€ë¦¬ì—ë„ í¸ë¦¬í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.\nì°¸ê³ ìë£Œ\nhttp://wiki.ros.org/ko/ROS/Tutorials/CreatingPackage https://rsl.ethz.ch/education-students/lectures/ros.html https://www.clearpathrobotics.com/assets/guides/noetic/ros/Drive a Husky.html "
},
{
	"uri": "/kr/ros_basic_noetic/lecture3/",
	"title": "Lecture3 - ROS Launch, RViz",
	"tags": [],
	"description": "",
	"content": "ROS Launch ì¼ì „ ì˜ˆì‹œ ì‹¤í–‰ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì»¤ë©˜ë“œ ë¼ì¸ì„ ì‚¬ìš©í–ˆì—ˆìŠµë‹ˆë‹¤.\nroslaunch smb_gazebo smb_gazebo.launch roslaunchë€, ë‹¤ìˆ˜ì˜ ROS Nodeë“¤ì„ í•œë²ˆì— ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” íˆ´ ì…ë‹ˆë‹¤.\nroslaunchë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” xmlì´ë¼ëŠ” í¬ë©§ì„ ì‚¬ìš©í•˜ëŠ” launch fileì´ ìˆì–´ì•¼ í•˜ë©°, ì´ëŠ” ë³´í†µ íŒ¨í‚¤ì§€ì˜ launch í´ë”ì— ìœ„ì¹˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nlaunch fileì˜ êµ¬ì¡°ë¥¼ íŒŒì•…í•´ë´…ì‹œë‹¤.\nlaunchíŒŒì¼ì€ xmlì´ë¼ëŠ” ë¬¸ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. htmlì„ ì‚¬ìš©í•´ë³´ì…¨ë‹¤ë©´ ì•„ì‹œê² ì§€ë§Œ, \u0026lt;\u0026gt;ë¥¼ ì´ìš©í•˜ì—¬ ë¼ì¸ì„ êµ¬ë¶„í•˜ëŠ” í¬ë©§ì…ë‹ˆë‹¤. í•œ ë¼ì¸ì—ì„œ ëë‚˜ëŠ” ê²½ìš° /\u0026gt;ë¡œ ë§ºì„ ìˆ˜ ìˆì§€ë§Œ, ì—¬ëŸ¬ ë¼ì¸ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ì—¬ëŠ” íƒœê·¸ì™€ ë‹«ëŠ” íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ë¶„í•©ë‹ˆë‹¤. \u0026lt;tag /\u0026gt; or \u0026lt;tag (value)\u0026gt; ... \u0026lt;/tag\u0026gt; launch fileì€ ì‹œì‘ê³¼ ë, íƒœê·¸ë¡œ ê°ì‹¸ì§‘ë‹ˆë‹¤.\nnode íƒœê·¸ëŠ” ì‹¤í–‰ë˜ëŠ” ROS Nodeë¥¼ ì§€ì¹­í•©ë‹ˆë‹¤. name íƒœê·¸ëŠ” nodeë¥¼ ì‹¤í–‰í•  ë•Œì˜ ì´ë¦„ì„ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ ììœ ë¡­ê²Œ ì§€ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. pkg íƒœê·¸ì—ëŠ” í•´ë‹¹ nodeê°€ ì†í•´ìˆëŠ” packageë¥¼ ì ìŠµë‹ˆë‹¤. type íƒœê·¸ì—ëŠ” ì‹¤í–‰ê°€ëŠ¥í•œ íŒŒì¼, í˜¹ì€ í”„ë¡œê·¸ë¨ì„ ì ê²Œ ë˜ë©°, c++ì˜ ê²½ìš° ë¹Œë“œëœ í”„ë¡œê·¸ë¨, íŒŒì´ì¬ì˜ ê²½ìš° íŒŒì´ì¬ íŒŒì¼ì´ ë©ë‹ˆë‹¤. output íƒœê·¸ëŠ” ë¡œê·¸ê°€ ì¶œë ¥ë˜ëŠ” ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ë©° screenì¼ ì‹œ í„°ë¯¸ë„ì— ì¶œë ¥ë©ë‹ˆë‹¤. \u0026lt;launch\u0026gt; \u0026lt;node name=\u0026#34;listener\u0026#34; pkg=\u0026#34;rospy_tutorials\u0026#34; type=\u0026#34;listener.py\u0026#34; output=\u0026#34;screen\u0026#34;/\u0026gt; \u0026lt;node name=\u0026#34;talker\u0026#34; pkg=\u0026#34;rospy_tutorials\u0026#34; type=\u0026#34;talker.py\u0026#34; output=\u0026#34;screen\u0026#34;/\u0026gt; \u0026lt;/launch\u0026gt; ì´ë²ˆì—ëŠ” smb_gazebo.launchë¥¼ ì‚´í´ë´…ì‹œë‹¤.\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;launch\u0026gt; \u0026lt;!-- GAZEBO ARGUMENTS --\u0026gt; \u0026lt;!-- Run Gazebo headless --\u0026gt; \u0026lt;arg name=\u0026#34;headless\u0026#34; default=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;model_path\u0026#34; default=\u0026#34;$(find smb_gazebo)/\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;robot_namespace\u0026#34; default=\u0026#34;\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;robot_model_name\u0026#34; default=\u0026#34;smb\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;enable_ekf\u0026#34; default=\u0026#34;true\u0026#34;/\u0026gt; ... \u0026lt;!-- Load Gazebo world --\u0026gt; \u0026lt;include file=\u0026#34;$(find gazebo_ros)/launch/empty_world.launch\u0026#34;\u0026gt; \u0026lt;env name=\u0026#34;GAZEBO_MODEL_PATH\u0026#34; value=\u0026#34;$(arg model_path)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;world_name\u0026#34; value=\u0026#34;$(arg world_file)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;paused\u0026#34; value=\u0026#34;$(arg paused)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;use_sim_time\u0026#34; value=\u0026#34;$(arg use_sim_time)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;gui\u0026#34; value=\u0026#34;$(arg run_gui)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;headless\u0026#34; value=\u0026#34;$(arg headless)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;debug\u0026#34; value=\u0026#34;$(arg debug)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;verbose\u0026#34; value=\u0026#34;$(arg verbose)\u0026#34;/\u0026gt; \u0026lt;/include\u0026gt; argë€, argumentì˜ ì•½ìì´ë©° launch íŒŒì¼ì—ì„œ ì¸ìë¡œ ì‘ìš©í•˜ëŠ” ì¼ì¢…ì˜ ë³€ìˆ˜ì…ë‹ˆë‹¤.\narg íƒœê·¸ë¥¼ í†µí•´ argumentë¥¼ ì„ ì–¸í•˜ê³  defaultë¥¼ í†µí•´ ì´ˆê¸°ê°’ì„ ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. argumentì˜ ì„ ì–¸ í›„ ì‚¬ìš©ì€ **$(arg )**ì…ë‹ˆë‹¤. roslaunch ì‹œ argumentë¥¼ ë°”ê¿” ì‹¤í–‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, smb_gazebo.launch ì‹¤í–‰ ì‹œ. worldë¥¼ ë°”ê¾¸ì–´ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\nroslaunch smb_gazebo smb_gazebo.launch world:=big_map_summer_school ì´ˆê¸° ì‹¤í–‰ ì‹œ ì‹œê°„ì´ ë‹¤ì†Œ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní˜„ì¬ ì˜ˆì‹œì—ì„œ ì œê³µë˜ëŠ” worldëŠ” ë‹¤ìŒ 3ê°€ì§€ ì…ë‹ˆë‹¤.\nroslaunch smb_gazebo smb_gazebo.launch ì œì‘í•œ launch fileì„ ë‹¤ì‹œ ë‹¤ë¥¸ launch fileì—ì„œ ë¶ˆëŸ¬ì˜¤ëŠ” ê²½ìš°ê°€ ë”ëŸ¬ ìˆìŠµë‹ˆë‹¤.\nì´ë•Œ, include íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©°, íŒ¨í‚¤ì§€ ë‹¨ìœ„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒŒì¼ì˜ ê²½ë¡œë¥¼ ê°€ì ¸ì˜¤ê²Œ ë©ë‹ˆë‹¤.\nincludeí•˜ëŠ” launch fileì˜ ë‚´ë¶€ì—ë„ ì—¬ëŸ¬ argumentë“¤ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ë“¤ì€ arg íƒœê·¸ë¥¼ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\u0026lt;include file=\u0026#34;$(find gazebo_ros)/launch/empty_world.launch\u0026#34;\u0026gt; \u0026lt;env name=\u0026#34;GAZEBO_MODEL_PATH\u0026#34; value=\u0026#34;$(arg model_path)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;world_name\u0026#34; value=\u0026#34;$(arg world_file)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;paused\u0026#34; value=\u0026#34;$(arg paused)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;use_sim_time\u0026#34; value=\u0026#34;$(arg use_sim_time)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;gui\u0026#34; value=\u0026#34;$(arg run_gui)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;headless\u0026#34; value=\u0026#34;$(arg headless)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;debug\u0026#34; value=\u0026#34;$(arg debug)\u0026#34;/\u0026gt; \u0026lt;arg name=\u0026#34;verbose\u0026#34; value=\u0026#34;$(arg verbose)\u0026#34;/\u0026gt; \u0026lt;/include\u0026gt; htmlê³¼ ë§ˆì°¬ê°€ì§€ë¡œ \u0026lt;!-- --\u0026gt; ì‚¬ì´ì— ì˜¤ëŠ” ì½”ë“œëŠ” ì£¼ì„ìœ¼ë¡œ ë¬´ì‹œë©ë‹ˆë‹¤.\në‹¨, ì£¼ì˜ì‚¬í•­ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤. launch íŒŒì¼ì„ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ --ê°€ ì¢…ì¢… ì“°ì´ê³¤ í•˜ëŠ”ë°ìš”. ì´ ê²½ìš° ì£¼ì„ì— ì˜¤ë¥˜ê°€ ë‚˜ë‹ˆ ì£¼ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\nLaunch Fileì„ ë‹¤ë£¨ëŠ” ì—°ìŠµì„ í•´ë´…ì‹œë‹¤.\nsmb_gazebo.launchë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.\nworldë¥¼ big_map_summer_schoolë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤. ë¡œë´‡ì´ ë“±ì¥í•˜ëŠ” ìœ„ì¹˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤. xyz : (-0.5, -1.0, 0.4) yaw angle : 90ë„ (3.1415ë¥¼ 1 radianìœ¼ë¡œ ì¡ìŠµë‹ˆë‹¤.) launch fileì— rospy_tutorials Packageì— ìˆëŠ” talker Nodeë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. Rqtì™€ RViz ROSì—ëŠ” ë¡œë´‡ì˜ ë‹¤ì–‘í•œ ì„¼ì„œ ë°ì´í„°ë“¤ì„ ì‹œê°í™”í•´ì£¼ëŠ” 3D íˆ´ì´ ìˆìœ¼ë©°, ì´ëŠ” RVizë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤.\nRvizì˜ ì‚¬ìš©ë²•ì„ ì•Œì•„ë´…ì‹œë‹¤.\nì˜ˆì œ ì‹¤í–‰ # Terminal 1 roslaunch smb_gazebo smb_gazebo.launch world:=big_map_summer_school # Terminal 2 rviz ì‚¬ì§„ê³¼ ê°™ì´ Gazeboì™€ RVizê°€ ì˜ ì‹¤í–‰ëœ ìƒí™©ì—ì„œ ê°•ì˜ë¥¼ ë”°ë¼í•©ë‹ˆë‹¤.\nrvizì—ì„œ ì„¼ì„œ ë°ì´í„°ë¥¼ ì‹œê°í™”í•˜ê¸° ì „, ìš°ì„  ì–´ë–¤ ì¢Œí‘œê³„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹œê°í™”í• ì§€ ì„¤ì •í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.\nê°™ì€ ì„¼ì„œë¼ë„ ì›ì  ì¢Œí‘œê³„ì—ì„œ ë³¸ ëª¨ìŠµê³¼, ì„¼ì„œ ì¢Œí‘œê³„ì—ì„œ ë³¸ ëª¨ìŠµì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\nimg from : mathworks ì´ëŠ” RVizì˜ Fixed Frameì—ì„œ ì„¤ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. (odomìœ¼ë¡œ ì„¤ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.)\nì´ì œ ë‹¤ì–‘í•œ ì‹œê°í™” ê¸°ëŠ¥ë“¤ì„ ì‚¬ìš©í•´ë³´ë ¤ í•©ë‹ˆë‹¤.\nê¸°ë³¸ì ìœ¼ë¡œ ë°ì´í„°ì˜ ì¶”ê°€ëŠ” ì™¼ìª½ í•˜ë‹¨ Add ë²„íŠ¼ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤. tf ì‹œê°í™” odometry ì‹œê°í™” point cloud ì‹œê°í™” ì´ë ‡ê²Œ ì˜ ì„¤ì •í•´ë‘” RVizëŠ” config í¬ë©§ìœ¼ë¡œ ì¶”ì¶œí•˜ì—¬ ì´í›„ì— ë‹¤ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nFile â‡’ Save Configë¥¼ í†µí•´ configë¥¼ ì €ì¥í•˜ê³ , Open Configë¥¼ í†µí•´ ì €ì¥í•œ configë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì•„ë˜ì™€ ê°™ì´ ë‹¤ì–‘í•œ Pluginì„ í†µí•´ ì—¬ëŸ¬ ì„¼ì„œ, ë¡œë´‡ ë°ì´í„°ë¥¼ ì‹œê°í™”í•  ìˆ˜ ìˆìœ¼ë©°, ìì‹ ë§Œì˜ Pluginì„ ì œì‘í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nì§€ê¸ˆê¹Œì§€ ì—¬ëŸ¬ë¶„ë“¤ì´ ë§Œë“  RViz ì„¤ì •ì„ ì €ì¥í•´ë³´ê³ , launch fileì— í†µí•©í•´ë´…ì‹œë‹¤.\nRVizì˜ ì¢Œì¸¡ ìƒë‹¨ File ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ config fileì„ ì €ì¥í•©ë‹ˆë‹¤. ì €ì¥ ìœ„ì¹˜ëŠ” smb_gazebo/rvizë¡œ ì§€ì •í•˜ê² ìŠµë‹ˆë‹¤. (ìƒˆë¡­ê²Œ í´ë”ë¥¼ ë§Œë“¤ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.) ì´ì œ, launch fileì„ ìˆ˜ì •í•©ì‹œë‹¤. íŒŒì¼ í•˜ë‹¨ launch íƒœê·¸ê°€ ë‹«íˆê¸° ì „ ë¶€ë¶„ì— ì•„ë˜ì™€ ê°™ì€ ë¼ì¸ì„ ì¶”ê°€í•©ë‹ˆë‹¤. \u0026lt;node name=\u0026#34;rviz\u0026#34; pkg=\u0026#34;rviz\u0026#34; type=\u0026#34;rviz\u0026#34; args=\u0026#34;-d $(find smb_gazebo)/rviz/my_config.rviz\u0026#34; /\u0026gt; \u0026lt;/launch\u0026gt; ì´ì œ, ë‹¤ì‹œ Gazebo launchë¥¼ í•´ë´…ì‹œë‹¤.\nroslaunch smb_gazebo smb_gazebo.launch world:=big_map_summer_school Rqt Tools ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©í•œ ROS íˆ´ì€ rqt_graphì™€ RVizê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\nì‚¬ì‹¤ ROSì—ëŠ” ìˆ˜ë§ì€ ì¶”ê°€ íˆ´ë“¤ì´ ì¡´ì¬í•˜ë©° ì´ë“¤ì„ ë¬¶ì–´ rqt toolsë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.\nrqt image view image from : wiki.ros.org\nrqt multiplot image from : project march\nrqt console image from : wiki.ros.org\nrqt robot steering rqt tf tree image from : rqt tf tree\nì´ëŸ¬í•œ ìˆ˜ë§ì€ íˆ´ë“¤ì´ ìˆì–´ ROS ê°œë°œì„ í¸ë¦¬í•˜ê²Œ í•´ì£¼ê³  ìˆìœ¼ë©°, í•¨ê»˜ ROSë¥¼ ê³µë¶€í•˜ë©´ì„œ í•˜ë‚˜ì”© ê°™ì´ ì‚´í´ë³´ê³  ì‚¬ìš©í•´ë³´ë ¤ í•©ë‹ˆë‹¤.\nì°¸ê³ ìë£Œ\nhttp://wiki.ros.org/roslaunch https://www.clearpathrobotics.com/assets/guides/noetic/ros/Drive a Husky.html https://rsl.ethz.ch/education-students/lectures/ros.html "
},
{
	"uri": "/kr/ros_basic_noetic/lecture4/",
	"title": "Lecture4 - Node Programming, Topic Pub,Sub and Message",
	"tags": [],
	"description": "",
	"content": "ì´ë²ˆ ê°•ì˜ë¶€í„°, ë³¸ê²©ì ì¸ í”„ë¡œê·¸ë˜ë°ì´ ì‹œì‘ë©ë‹ˆë‹¤. ì²«ë²ˆì§¸ë¡œ Nodeì˜ í”„ë¡œê·¸ë˜ë°ì„ ì‚´í´ë³´ê³ ì í•˜ë©°, ì‹œì‘ ì „ ê°„ë‹¨í•œ ë³µìŠµì„ ì§„í–‰í•˜ê³  ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.\nimage from : clearpathrobotics\nWorkspaceì™€ íŒ¨í‚¤ì§€ # WS ìƒì„± mkdir -p catkin_ws/src cd catkin_ws catkin config --init # Package ìƒì„± catkin_create_pkg \u0026lt;pkg-name\u0026gt; \u0026lt;depend1\u0026gt; \u0026lt;depend2\u0026gt; ... ROS Node Programming C++ ì½”ë“œëŠ” src í´ë” ì•ˆì—, íŒŒì´ì¬ ì½”ë“œëŠ” scriptsë¼ëŠ” í´ë” ì•ˆì— ìœ„ì¹˜ì‹œí‚¤ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤. cd \u0026lt;pkg-name\u0026gt; mkdir scripts ì§€ê¸ˆë¶€í„°, ì§ì ‘ ëª…ë ¹ì–´ë¥¼ í•œì¤„ì”© ë”°ë¼ì¹˜ë©´ì„œ ì‹¤ìŠµí•˜ì…”ë„ ì¢‹ê³ , ì œê°€ ë¯¸ë¦¬ ì¤€ë¹„í•´ë‘” Packageë¥¼ ì‚¬ìš©í•˜ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.\në‹¤ìŒìœ¼ë¡œ, íŒŒì´ì¬ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  íŒ¨í‚¤ì§€ë¥¼ ë¹Œë“œí•´ë´…ì‹œë‹¤.\ncd scripts # my_first_node.py ìƒì„± ì²«ë²ˆì§¸ í”„ë¡œê·¸ë˜ë° ì½”ë“œëŠ” Nodeì˜ ê¸°ë³¸ì…ë‹ˆë‹¤.\nëª¨ë“  ì†ŒìŠ¤ì½”ë“œëŠ” github repoì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.\nmy_first_node.py #!/usr/bin/env python3 import rospy from std_msgs.msg import String def my_first_node(): # ROS nodes require initialization # It contains master registration, uploading parameters rospy.init_node(\u0026#39;my_first_node\u0026#39;, anonymous=True) # ROS safe timer rate = rospy.Rate(10) # 10hz # Loop control Example while not rospy.is_shutdown(): hello_du = \u0026#34;hello du %s\u0026#34; % rospy.get_time() rospy.loginfo(hello_du) # Below line calls sleep method in Python internally. rate.sleep() if __name__ == \u0026#39;__main__\u0026#39;: try: my_first_node() except rospy.ROSInterruptException: pass ì½”ë“œë¥¼ ìƒˆë¡œ ì‘ì„±í•œ ë‹¤ìŒì—ëŠ” ìŠµê´€ì ìœ¼ë¡œ íŒ¨í‚¤ì§€ë¥¼ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•©ë‹ˆë‹¤. íŒŒì´ì¬ ì½”ë“œì˜ ê²½ìš° íŒŒì¼ì˜ ì‹¤í–‰ ê¶Œí•œì´ ì£¼ì–´ì ¸ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. cd scripts chmod +x * cd ~/catkin_ws catkin build my_first_pkg ì‘ì„±í•œ nodeë¥¼ ì‹¤í–‰í•´ë´…ì‹œë‹¤. ë°˜ë³µí•´ì„œ í„°ë¯¸ë„ ë¡œê·¸ê°€ ë‚¨ì„ ê²ƒì…ë‹ˆë‹¤. # Terminal 1 roscore # Terminal 2 rosrun my_first_package my_first_node.py ì½”ë“œ ë¶„ì„ ì²« ì½”ë“œì¸ ë§Œí¼ ìì„¸í•˜ê²Œ ë¶„ì„í•˜ê³  ë„˜ì–´ê°€ë³´ë ¤ í•©ë‹ˆë‹¤.\nROS Noeticì€ Python 3ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê°€ìƒí™˜ê²½ì˜ íŒŒì´ì¬, ì§ì ‘ ì„¤ì¹˜í•œ íŒŒì´ì¬ ë“± ì—¬ëŸ¬ ë²„ì „ì´ ì„¤ì¹˜ë˜ì–´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ê³µì‹ ë¬¸ì„œì—ì„œëŠ” ì´ëŸ¬í•œ í˜¼ë€ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì½”ë“œì˜ ì œì¼ ì²˜ìŒ ì•„ë˜ ë¼ì¸ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•˜ê³  ìˆìŠµë‹ˆë‹¤. #!/usr/bin/env python3 Pythonì„ ì‚¬ìš©í•˜ì—¬ ROSë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” íŒ¨í‚¤ì§€ëŠ” rospyì…ë‹ˆë‹¤. importë¥¼ ì‚¬ìš©í•´ë„ ì¢‹ê³  from / importë¥¼ í†µí•´ íŠ¹ì • í´ë˜ìŠ¤ë§Œ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. import rospy from std_msgs.msg import String ë‹¹ì¥ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šì§€ë§Œ Test Codeë¥¼ ì‘ì„±í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ìƒí™©ì— ëŒ€ë¹„í•˜ê¸° ìœ„í•´ main í•¨ìˆ˜ë¥¼ ë”°ë¡œ ë‘ê³  ì•„ë˜ì™€ ê°™ì´ í”„ë¡œê·¸ë¨ì„ ì‹œì‘í•˜ê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤. if __name__ == \u0026#39;__main__\u0026#39;: try: my_first_node() except rospy.ROSInterruptException: pass ì´ì œ, my_first_nodeë¥¼ ë¶„ì„í•´ ë³´ê² ìŠµë‹ˆë‹¤. Nodeì˜ ì‹¤í–‰ì„ ìœ„í•´ Masterì— ë“±ë¡í•˜ê³ , ì´ˆê¸°í™”í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë©°, ì´ë¥¼ ìœ„í•´ ë³„ë„ë¡œ init_nodeë¼ëŠ” ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. def my_first_node(): # ROS nodes require initialization # It contains master registration, uploading parameters rospy.init_node(\u0026#39;my_first_node\u0026#39;, anonymous=True) ROS ì‹œìŠ¤í…œì€ ê¸°ë³¸ì ìœ¼ë¡œ ë¬´í•œ Loopì…ë‹ˆë‹¤. ì´ Loopê°€ í•œì°¨ë¡€ ë°˜ë³µë˜ëŠ” ì£¼ê¸°ë¥¼ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. ROSì˜ ì‹œê°„ ì²´ê³„ì— ëŒ€í•´ì„œëŠ” ì´í›„ í•œë²ˆ ë” ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤. # ROS safe timer rate = rospy.Rate(10) # 10hz rospyë¥¼ í†µí•´ ì‹¤í–‰ ì¤‘ì¸ Nodeì˜ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, is_shutdown()ì€ ì˜ˆê¸°ì¹˜ ëª»í•œ ì—ëŸ¬ê°€ ë°œìƒí•˜ê±°ë‚˜ ì‚¬ìš©ìì˜ ì¢…ë£Œë¥¼ ì¸ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 10Hzë¥¼ ë§ì¶”ê¸° ìœ„í•´ Loopë§ˆë‹¤ sleepì„ ê±¸ì–´ì£¼ê³  ìˆìŠµë‹ˆë‹¤. # Loop control Example while not rospy.is_shutdown(): ... rate.sleep() ROSì—ì„œ ì½˜ì†” ë¡œê·¸ë¥¼ ì–»ëŠ” ë°©ë²•ìœ¼ë¡œ print ë³´ë‹¤ rospy.logë¥¼ ì‚¬ìš©í•˜ê¸°ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. hello_du = \u0026#34;hello du %s\u0026#34; % rospy.get_time() rospy.loginfo(hello_du) # Below line calls sleep method in Python internally. ROS Timer ROSëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¬´í•œ Loopë¥¼ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ ì•ˆì—ì„œ ë™ì‘ì‹œí‚¤ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. Timerë¥¼ í†µí•´ ì¼ì • ì‹œê°„ë§ˆë‹¤ ë™ì‘í•˜ëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ncd my_first_pkg/scripts # spin_node.py ìƒì„± spin_node.py #!/usr/bin/env python3 import rospy # callback method requires event, which is TimerEvent def hello_du(event=None): hello_du = \u0026#34;hello du %s\u0026#34; % rospy.get_time() rospy.loginfo(hello_du) def my_first_node(): rospy.init_node(\u0026#39;my_first_node\u0026#39;, anonymous=True) # Timer Class is kind of Thread. # It\u0026#39;s rule is execute sleep in certain period with given event. rospy.Timer(rospy.Duration(1.0/100.0), hello_du) rospy.spin() if __name__ == \u0026#39;__main__\u0026#39;: try: my_first_node() except rospy.ROSInterruptException: pass ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ì´ì „ê³¼ ê°™ê¸° ë•Œë¬¸ì— Timerì™€ spinì— ëŒ€í•´ì„œë§Œ ì§šê³  ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.\nTimerëŠ” í¬ê²Œ ë‘ê°€ì§€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. ì‹¤í–‰ ì£¼ê¸°ì™€ Callback í•¨ìˆ˜ì…ë‹ˆë‹¤. í•´ë‹¹ ì£¼ê¸°ë§ˆë‹¤ Callback í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. rospy.Timer(rospy.Duration(1.0/100.0), hello_du) ì•ìœ¼ë¡œ ì—¬ëŸ¬ë¶„ë“¤ì€ ì§ì ‘ while loopë¥¼ êµ¬í˜„í•˜ê¸°ë³´ë‹¤ rospy.spin()ì„ ë” ë§ì´ ì‚¬ìš©í•˜ì‹œê²Œ ë  ê²ë‹ˆë‹¤. Timerë¥¼ ì„ ì–¸í•œ ì´í›„, í•˜ë‚˜ì˜ Threadì—ì„œ ë§‰í˜€ë²„ë¦¬ëŠ” ê²ƒì„ ë°©ì§€í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. rospy.Timer(rospy.Duration(1.0/100.0), hello_du) rospy.spin() image from : python tutorial\nOOP Node Programming my_first_oop_node.py #!/usr/bin/env python3 import rospy class OOPNode: def __init__(self): self.counter_ = 0 self.timer_ = rospy.Timer(rospy.Duration(1.0/100.0), self.hello_du) def hello_du(self, event=None): hello_du = f\u0026#34;hello du {rospy.get_time()}, counter: {self.counter_}\u0026#34; rospy.loginfo(hello_du) self.counter_ += 1 def my_first_oop_node(): rospy.init_node(\u0026#39;my_first_oop_node\u0026#39;, anonymous=True) oop_node = OOPNode() rospy.spin() if __name__ == \u0026#39;__main__\u0026#39;: try: my_first_oop_node() except rospy.ROSInterruptException: pass ì´í›„ì˜ ì‹¤ìŠµë“¤ì„ ìœ„í•´ í•œê°€ì§€ ì˜ˆì‹œë§Œ ë” ì‚´í´ë³´ê³ ì í•©ë‹ˆë‹¤. ê°ì²´ ì§€í–¥ì„ ì‚¬ìš©í•œ ROS Node ì‘ì„±ë°©ë²•ì…ë‹ˆë‹¤. íŒŒì´ì¬ì—ì„œ OOPë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Class í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©°, selfë“± OOPì™€ ê´€ë ¨ëœ ë‚´ìš©ì€ ëª¨ë‘ ì•Œê³  ìˆë‹¤ëŠ” ìƒíƒœì—ì„œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.\nOOPë¥¼ ì‚¬ìš©í•˜ë©´ main ë©”ì†Œë“œê°€ ë§¤ìš° ê°„í¸í•´ì§„ë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤. í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , spinì„ í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. def my_first_oop_node(): rospy.init_node(\u0026#39;my_first_oop_node\u0026#39;, anonymous=True) oop_node = OOPNode() rospy.spin() OOPë¡œ ì „í™˜ë˜ë©´ì„œ ë³€ê²½ëœ êµ¬í˜„ì— ì£¼ëª©í•©ì‹œë‹¤. Timerì˜ Callback í•¨ìˆ˜ë¡œ í´ë˜ìŠ¤ ë©”ì†Œë“œê°€ ì‚¬ìš©ë˜ì—ˆìœ¼ë©°, í´ë˜ìŠ¤ ë³€ìˆ˜ì¸ counterë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•œ ì ì— ì£¼ëª©í•©ë‹ˆë‹¤. class OOPNode: def __init__(self): self.counter_ = 0 self.timer_ = rospy.Timer(rospy.Duration(1.0/100.0), self.hello_du) def hello_du(self, event=None): hello_du = f\u0026#34;hello du {rospy.get_time()}, counter: {self.counter_}\u0026#34; rospy.loginfo(hello_du) self.counter_ += 1 ì•ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ì½”ë“œëŠ” OOP ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë©ë‹ˆë‹¤. íŒŒì´ì¬ì˜ í´ë˜ìŠ¤ì— ëŒ€í•´ ìˆ™ì§€ê°€ ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ ê¼­ ë³µìŠµí•˜ê³  ë‹¤ìŒ ê°•ì˜ë¥¼ ì²­ì·¨í•˜ì„¸ìš”!\nROS Topic ë‹¤ì‹œ ê°œë… í•™ìŠµìœ¼ë¡œ ëŒì•„ì™€ë³´ì•˜ìŠµë‹ˆë‹¤. ì•„ë˜ ê·¸ë¦¼ì€ ì§€ë‚œ ê°•ì˜ì˜ rqt_graphì…ë‹ˆë‹¤.\nìœ„ ê·¸ë¦¼ì—ì„œ ë™ê·¸ë¼ë¯¸ëŠ” Nodeë¥¼ ëœ»í•˜ê³ , í™”ì‚´í‘œëŠ” topicì„ ëœ»í•©ë‹ˆë‹¤.\nì´ë²ˆ ì‹œê°„ì—ëŠ” ì´ Topicì´ ë¬´ì—‡ì¸ì§€ ë°°ì›Œë³´ê³ ì í•©ë‹ˆë‹¤.\nTopicì€ Nodeë“¤ ì‚¬ì´ì— ë°ì´í„°(Message)ê°€ ì˜¤ê°€ëŠ” ê¸¸(Bus)ì˜ ì´ë¦„ì…ë‹ˆë‹¤. image from : docs.ros.org ê·¸ë¦¼ì—ì„œì™€ ê°™ì´ ROS Topicì€\nPublisher(ë°œí–‰ì) Subscriber(êµ¬ë…ì)ë¡œ ë‚˜ëˆ„ì–´ Topicì˜ ì†¡ì‹ , ìˆ˜ì‹ ìë¥¼ êµ¬ë¶„í•©ë‹ˆë‹¤. Publisher, SubscriberëŠ” Nodeì•ˆì—ì„œ ìƒì„±ë˜ë©° ë³„ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. Pub/Sub ì‚¬ì´ì— Messageê°€ ì „ë‹¬ë˜ë©°, ì´ ê¸¸ì˜ ì´ë¦„ì´ Topicì¸ ê²ƒì…ë‹ˆë‹¤. ì£¼ì˜í•  ì ì€, Publisher, SubscriberëŠ” ì˜¤ë¡œì§€ Topicì˜ ì´ë¦„ìœ¼ë¡œ ì†Œí†µí•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì–´ë–¤ Nodeì— publish í• ì§€ PublisherëŠ” ì „í˜€ ëª¨ë¥´ë©° ì˜¤ë¡œì§€ Topicì´ ê°™ì€ Subscriberê°€ ë°ì´í„°ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤. ë”ë¶ˆì–´, Topicì€ ì—¬ëŸ¬ Nodeë“¤ë¡œ ë¶€í„° ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆê³ , ì „ì†¡ ì‹œì—ë„ ì—¬ëŸ¬ Nodeë“¤ì—ê²Œ ì „ì†¡ì´ ê°€ëŠ¥í•œ ë°©ì‹ì…ë‹ˆë‹¤. â‡’ Topicì˜ ì¤‘ìš”í•œ ì†ì„±ì´ë‹ˆ ê¼­ ì•Œì•„ë‘ì…¨ìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.\nimage from : docs.ros.org Nodeì™€ Topicì˜ ê°œë…ì„ ë‹¤ì‹œ í•œ ë²ˆ ë‹¤ì¡ê³  ê°‘ì‹œë‹¤.\nNodeëŠ” ì‹¤í–‰ë˜ëŠ” í”„ë¡œê·¸ë¨ì´ë©°, ROS Masterì— ë“±ë¡í•˜ê³  ê´€ë¦¬ë©ë‹ˆë‹¤. Nodeë“¤ ì‚¬ì´ì˜ í†µì‹  ë©”ì»¤ë‹ˆì¦˜ ì¤‘ Topicì´ë¼ëŠ” ê²ƒì´ ìˆìœ¼ë©°, ì´ëŠ” Publisherì™€ Subscriberë¼ëŠ” ê°œë…ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤. Publisherì™€ Subscriber ì‚¬ì´ì˜ ì˜¤ê°€ëŠ” ë°ì´í„°ëŠ” íŠ¹ì •í•œ íƒ€ì…ì„ ê°–ìŠµë‹ˆë‹¤. ì´ë¥¼ Messageë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. Topic Message ë¡œë´‡ í”„ë¡œê·¸ë˜ë° ì‹œì—ëŠ” ë‹¤ì–‘í•œ ì„¼ì„œ ë°ì´í„°ë“¤ì´ ë‹¤ë¤„ì§‘ë‹ˆë‹¤. ì„¼ì„œ ë¿ë§Œ ì•„ë‹ˆë¼, ì œì–´ ë°ì´í„°ë„ ì£¼ê³  ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. ROSì—ì„œëŠ” ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì´ëŸ¬í•œ ë°ì´í„° í˜•ì‹ì„ Messageë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì§€ì¹­í•˜ë©°, ì—¬ëŸ¬ ê¸°ë³¸ í˜•íƒœë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë”ë¶ˆì–´ ì‚¬ìš©ìê°€ ì§ì ‘ Messageë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nì¼ì „ ì˜ˆì‹œì˜ ë¶„ì„ì„ í†µí•´ Topicê³¼ Messageì— ëŒ€í•´ ë‹¤ì‹œ í•œ ë²ˆ ì‚´í´ë´…ì‹œë‹¤. # Terminal 1 roscore # Terminal 2 rosrun roscpp_tutorials talker # Terminal 3 rosrun roscpp_tutorials listener ë‘ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ê³  ìˆëŠ” ìƒíƒœë¥¼ ìœ ì§€í•˜ë©´ì„œ, ì•„ë˜ ë‚´ìš©ì„ ë”°ë¼ì™€ì£¼ì„¸ìš”\nrostopic listë¥¼ í†µí•´ ì‚¬ìš©ì¤‘ì¸ topicë“¤ì„ ëª¨ë‘ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤. $ rostopic list /chatter /rosout /rosout_agg íŠ¹ì • topicì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ë¥¼ ì•Œê³  ì‹¶ë‹¤ë©´ rostopic infoë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. talkerì™€ listenerê°€ ì¡°íšŒëœ ëª¨ìŠµë„ ë³´ì…ë‹ˆë‹¤. $ rostopic info /chatter Type: std_msgs/String Publishers: * /talker_215337_1671763968667 (http://192.168.55.236:37863/) Subscribers: * /listener_215355_1671763970127 (http://192.168.55.236:44969/) í•´ë‹¹ topicì´ ì‚¬ìš©ì¤‘ì¸ Messageë¥¼ ì¡°íšŒí•˜ê¸° ìœ„í•´ rostopic typeì„ ì‚¬ìš©í•©ë‹ˆë‹¤. $ rostopic type /chatter std_msgs/String rosmsg showë¥¼ í†µí•´ Messageì˜ ì›í˜•ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. $ rosmsg show std_msgs/String string data topic ë°ì´í„°ë¥¼ ì—¿ë³¼ ìˆ˜ ìˆëŠ” rostopic echoì…ë‹ˆë‹¤. $ rostopic echo /chatter data: \u0026#34;hello world 1671764088.1913402\u0026#34; --- data: \u0026#34;hello world 1671764088.2913551\u0026#34; --- ... rostopic hzë¡œ topicì˜ pub/sub ì£¼ê¸°ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. $ rostopic hz /chatter subscribed to [/chatter] average rate: 10.000 min: 0.100s max: 0.100s std dev: 0.00014s window: 10 average rate: 9.999 min: 0.099s max: 0.100s std dev: 0.00023s window: 20 ë§ˆì§€ë§‰ìœ¼ë¡œ rqt_graphë¥¼ ë‹¤ì‹œ í•œ ë²ˆ ì‚´í´ë´…ì‹œë‹¤.\nrqt_graph ë°©ê¸ˆ ì‚´í´ë³¸ ì»¤ë©˜ë“œ ë¼ì¸ë“¤ì„ ì¶©ë¶„íˆ ìˆ™ì§€í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ê·¸ëŸ¬í•œ ì˜ë¯¸ì—ì„œ, ì´ë²ˆì—ëŠ” Gazebo ì˜ˆì‹œë¥¼ ë¶„ì„í•´ë³¼ê¹Œ í•©ë‹ˆë‹¤.\n# Terminal 1 roslaunch smb_gazebo smb_gazebo.launch # Terminal 2 rosrun teleop_twist_keyboard teleop_twist_keyboard.py rostopic list ê²°ê³¼ $ rostopicist /clicked_point /clock /cmd_vel /diagnostics /e_stop /gazebo/link_states /gazebo/model_states /gazebo/parameter_descriptions /gazebo/parameter_updates /gazebo/performance_metrics /gazebo/set_link_state ... ìš°ë¦¬ê°€ ì§‘ì¤‘í•˜ê³ ì í•˜ëŠ” topicì€ ë¡œë´‡ì„ ì œì–´í•˜ëŠ” /cmd_velì…ë‹ˆë‹¤.\nrostopic info ê²°ê³¼ $ rostopic info /cmd_vel Type: geometry_msgs/Twist Publishers: * /teleop_twist_keyboard (http://192.168.55.236:33903/) Subscribers: * /twist_mux (http://192.168.55.236:38201/) * /gazebo (http://192.168.55.236:33033/) rostopic type ê²°ê³¼ $ rostopic type /cmd_vel geometry_msgs/Twist geometry_msgs/Twistì˜ rosmsg show ê²°ê³¼ $ rosmsg show geometry_msgs/Twist geometry_msgs/Vector3 linear float64 x float64 y float64 z geometry_msgs/Vector3 angular float64 x float64 y float64 z /scanì˜ rostopic echo ê²°ê³¼ $ rostopic echo /scan header: seq: 0 stamp: secs: 204 nsecs: 678000000 frame_id: \u0026#34;rslidar\u0026#34; angle_min: -1.5707999467849731 angle_max: 1.5707999467849731 angle_increment: 0.008700000122189522 time_increment: 0.0 scan_time: 0.033330000936985016 range_min: 0.44999998807907104 range_max: 50.0 ranges: [inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, ... /scanì˜ rostopic hzê²°ê³¼ $ rostopic hz /scan subscribed to [/scan] WARNING: may be using simulated time average rate: 10.000 min: 0.100s max: 0.100s std dev: 0.00000s window: 8 average rate: 10.000 min: 0.100s max: 0.100s std dev: 0.00000s window: 17 rqt_graphì—ì„œ /cmd_velì„ ì°¾ì•„ë³¼ê¹Œìš”?\nrqt_graph Publisher í”„ë¡œê·¸ë˜ë° ì´ë²ˆ ì‹œê°„ ì‚¬ìš©í•  PackageëŠ” py_topic_pkg ì…ë‹ˆë‹¤. ì‹¤ìŠµ ì „ ì‹¤í–‰ë¶€í„° í•´ë³´ê² ìŠµë‹ˆë‹¤.\nPackage Build cd ~/catkin_ws catkin build py_topic_pkg source devel/setup.bash ì˜ˆì œ ì‹¤í–‰ # Terminal 1 roslaunch smb_gazebo smb_gazebo.launch # Terminal 2 rosrun py_topic_pkg cmd_vel_pub.py ë¡œë´‡ì´ ì•„ë˜ì™€ ê°™ì´ ì›ì„ ê·¸ë¦¬ë©° ì›€ì§ì¼ ê²ƒì…ë‹ˆë‹¤.\ncmd_vel_pub.py #!/usr/bin/env python3 import rospy from geometry_msgs.msg import Twist class CmdVelPubNode: def __init__(self): # Publisher requires 3 paramters # 1. topic name # 2. topic msg type # 3. topic queue size self.cmd_vel_pub_ = rospy.Publisher(\u0026#34;cmd_vel\u0026#34;, Twist, queue_size=10) self.timer_ = rospy.Timer(rospy.Duration(1.0/10.0), self.pub_msg) self.twist_ = Twist() def pub_msg(self, event=None): # geometry_msgs.Twist # ref: http://docs.ros.org/en/melodic/api/geometry_msgs/html/msg/Twist.html self.twist_.linear.x = 0.5 self.twist_.angular.z = 1.0 self.cmd_vel_pub_.publish(self.twist_) def cmd_vel_node(): rospy.init_node(\u0026#39;cmd_vel_node\u0026#39;, anonymous=True) cmd_vel_pub_node = CmdVelPubNode() rospy.spin() if __name__ == \u0026#39;__main__\u0026#39;: try: cmd_vel_node() except rospy.ROSInterruptException: pass íŒŒì´ì¬ ros í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•œ rospy, ë¡œë´‡ì˜ ì†ë„ ì œì–´ì— í•„ìš”í•œ Message typeì¸ Twistë¥¼ import í•˜ê³  ìˆìŠµë‹ˆë‹¤. import rospy from geometry_msgs.msg import Twist rospy.Publisherë¥¼ í†µí•´ publisherë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìµœì†Œ 3ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. topic ì´ë¦„ topic type queue size self.cmd_vel_pub_ = rospy.Publisher(\u0026#34;cmd_vel\u0026#34;, Twist, queue_size=10)= ìš°ë¦¬ëŠ” ë¡œë´‡ì˜ ì œì–´ ì‹ í˜¸ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì „ì†¡í•˜ê³ ì í•©ë‹ˆë‹¤. ë”°ë¼ì„œ Timerë„ ì„ ì–¸í•˜ì˜€ìŠµë‹ˆë‹¤. self.timer_ = rospy.Timer(rospy.Duration(1.0/10.0), self.pub_msg) ë‹¤ìŒìœ¼ë¡œ, Message Typeì¸ geometry_msgs/Twist ê°’ì„ ì±„ì›ë‹ˆë‹¤. í˜„ì¬ ìš°ë¦¬ ë¡œë´‡ì€ 2ì°¨ì› í‰ë©´ì—ì„œ ì›€ì§ì´ë©°, ë¡œë´‡ í˜•íƒœ ë•Œë¬¸ì— ì•ë’¤ ì„ ì†ë„ì™€ ê°ì†ë„ë¥¼ ê°–ê²Œ ë©ë‹ˆë‹¤. ... self.twist_ = Twist() def pub_msg(self, event=None): self.twist_.linear.x = 0.5 self.twist_.angular.z = 1.0 Messageì˜ ì¢…ë¥˜ëŠ” ë§¤ìš° ë§ìŠµë‹ˆë‹¤. êµ¬ê¸€ì„ í†µí•´ ê²€ìƒ‰í•˜ë©´ì„œ ì½”ë”©í•˜ëŠ” ìŠµê´€ì„ ë“¤ì—¬ë´…ì‹œë‹¤.\nfrom : http://docs.ros.org/ linearì˜ ë‹¨ìœ„ëŠ” m/s ì´ë©°, angularì˜ ë‹¨ìœ„ëŠ” rad/s ì…ë‹ˆë‹¤. pi = 3.14\në§ˆì§€ë§‰, ê°€ì¥ ì¤‘ìš”í•œ topic publishëŠ” ìƒì„±í•œ Publisherì˜ publish() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¯¸ë¦¬ ì¤€ë¹„í•´ë‘” topic messageë¥¼ ì‚¬ìš©í•©ì‹œë‹¤. def pub_msg(self, event=None): # geometry_msgs.Twist # ref: http://docs.ros.org/en/melodic/api/geometry_msgs/html/msg/Twist.html self.twist_.linear.x = 0.5 self.twist_.angular.z = 1.0 self.cmd_vel_pub_.publish(self.twist_) ì´ Nodeë¥¼ ì‹¤í–‰í•˜ë©´, ìš°ë¦¬ì˜ ROSê°€ ì¼ì • ì£¼ê¸°ì— ë§ì¶”ì–´ ì•Œë§ê²Œ topic publishë¥¼ ì‹¤í–‰ì‹œì¼œì¤„ ê²ƒì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì •í•´ì§„ êµ¬í˜„ì— ë§ì¶”ì–´ ì½”ë“œë§Œ ì‘ì„±í•˜ë©´ ë˜ëŠ” ê²ƒì´ì§€ìš” ğŸ˜Š\ndef cmd_vel_node(): rospy.init_node(\u0026#39;cmd_vel_node\u0026#39;, anonymous=True) cmd_vel_pub_node = CmdVelPubNode() rospy.spin() Subscriber í”„ë¡œê·¸ë˜ë° ì´ë²ˆ ì˜ˆì‹œì—ëŠ” ë¡œë´‡ì— ì¥ì°©ëœ ë¼ì´ë‹¤ ì„¼ì„œë¥¼ ì‚¬ìš©í•´ë³´ë ¤ í•©ë‹ˆë‹¤. ì˜ˆì‹œë¥¼ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤. # Terminal 1 roslaunch smb_gazebo smb_gazebo.launch # Terminal 2 rosrun py_topic_pkg laser_scan_sub.py ì‹¤í–‰ ì´í›„, ì˜ìƒê³¼ ê°™ì´ ë°•ìŠ¤ë¥¼ ë¡œë´‡ì˜ ì „ë°©ì— ë°°ì¹˜í•´ë´…ì‹œë‹¤. í„°ë¯¸ë„ì— ë“±ì¥í•˜ëŠ” ë¬¸êµ¬ì— ì§‘ì¤‘í•´ë³´ì„¸ìš”. ë°•ìŠ¤ê°€ ì¶”ê°€ë˜ë©´ì„œ ì¶œë ¥ì°½ì— ì–´ë– í•œ ë³€í™”ê°€ ìƒê¸°ë‚˜ìš”?\në¡œë´‡ì— ë¶€ì°©ëœ ë¼ì´ë‹¤ ì„¼ì„œëŠ” ì „ë°© 180ë„ ì‚¬ë°©ìœ¼ë¡œ 360ê°œì˜ ë ˆì´ì €ë¥¼ í©ë¿Œë¦½ë‹ˆë‹¤.\në ˆì´ì €ì˜ íŠ¹ì„±ìƒ ë¬¼ì²´ë¥¼ ë§ê³  ë˜ëŒì•„ì˜¤ê²Œ ë˜ë©°, ì´ ì‹œê°„ì„ í†µí•´ ë¬¼ì²´ì™€ì˜ ê±°ë¦¬ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì˜ˆì‹œì˜ í”„ë¡œê·¸ë¨ì€ ë¡œë´‡ì— ë¶€ì°©ëœ ë ˆì´ì €ì—ì„œ publishë˜ëŠ” ë°ì´í„°ë¥¼ subscribeí•œ ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í”„ë¡œê·¸ë˜ë°í•˜ë©´ì„œ pythonìœ¼ë¡œ subscriberë¥¼ ë‹¤ë£¨ëŠ” ë°©ë²•ì— ëŒ€í•´ ë°°ì›Œë´…ì‹œë‹¤.\nlaser_scan_sub.py #!/usr/bin/env python3 import rospy from sensor_msgs.msg import LaserScan class LaserSubNode: def __init__(self): # Publisher requires 3 paramters # 1. topic name # 2. topic msg type # 3. sub callback method self.laser_sub_ = rospy.Subscriber(\u0026#34;scan\u0026#34;, LaserScan, self.laser_cb) # first param of callback method is always topic msg def laser_cb(self, data): rospy.loginfo( len(data.ranges)) print(f\u0026#34;\u0026#34;\u0026#34; data.ranges[0]: {data.ranges[0]} data.ranges[90]: {data.ranges[90]} data.ranges[179]: {data.ranges[179]} data.ranges[270]: {data.ranges[270]} data.ranges[360]: {data.ranges[360]} \u0026#34;\u0026#34;\u0026#34;) def laser_sub_node(): rospy.init_node(\u0026#39;laser_sub_node\u0026#39;, anonymous=True) laser_sub_node = LaserSubNode() rospy.spin() if __name__ == \u0026#39;__main__\u0026#39;: try: laser_sub_node() except rospy.ROSInterruptException: pass ì´ë²ˆì— ì‚¬ìš©í•˜ëŠ” topic messageëŠ” sensor_msgs/LaserScanì…ë‹ˆë‹¤. import rospy from sensor_msgs.msg import LaserScan subscriberëŠ” publisherì™€ ë‹¬ë¦¬ Timerê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. publishë˜ëŠ” ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ ë™ì‘ì„ í•  ìˆ˜ ì—†ìœ¼ë©°, publish ì£¼ê¸°ì— ë§ì¶”ì–´ subscribeí•  ìˆ˜ë°–ì— ì—†ëŠ” ê²ƒì´ì§€ìš”.\nsubscriberëŠ” rospy.Subscriberë¡œ ìƒì„±í•˜ë©° ìµœì†Œ 3ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤. topic ì´ë¦„ topic message ì´ë¦„ subscribe ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” callback ë©”ì†Œë“œ class LaserSubNode: def __init__(self): # Publisher requires 3 paramters # 1. topic name # 2. topic msg type # 3. sub callback method self.laser_sub_ = rospy.Subscriber(\u0026#34;scan\u0026#34;, LaserScan, self.laser_cb) ì´ callback ë©”ì†Œë“œì—ì„œ ì£¼ì˜í•´ì•¼ í•  ì ì€, í•­ìƒ callback methodì˜ ë§¤ê°œë³€ìˆ˜ê°€ subscribeëœ ë°ì´í„°ë¼ëŠ” ì ì…ë‹ˆë‹¤. ì§€ê¸ˆì˜ ê²½ìš° LaserScan íƒ€ì…ì˜ ë°ì´í„°ì¼ ê²ƒì…ë‹ˆë‹¤. # first param of callback method is always topic msg def laser_cb(self, data): rospy.loginfo( len(data.ranges)) ... ë§ˆì§€ë§‰ìœ¼ë¡œ, ê¹”ë”í•œ í„°ë¯¸ë„ ì¶œë ¥ì„ ìœ„í•´ print í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. print(f\u0026#34;\u0026#34;\u0026#34; data.ranges[0]: {data.ranges[0]} data.ranges[90]: {data.ranges[90]} data.ranges[179]: {data.ranges[179]} data.ranges[270]: {data.ranges[270]} data.ranges[360]: {data.ranges[360]} \u0026#34;\u0026#34;\u0026#34;) Subscriber ì‹¤í–‰ ì‹œì—ëŠ” í•­ìƒ rospy.spin()ì„ ìŠì§€ ë§ë„ë¡ í•©ë‹ˆë‹¤. spin ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ íŠ¹ì • ì“°ë ˆë“œê°€ ìì›ì„ ì ìœ í•˜ê¸° ë•Œë¬¸ì— subscriberì˜ ìƒíƒœë¥¼ ê°±ì‹ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\ndef laser_sub_node(): rospy.init_node(\u0026#39;laser_sub_node\u0026#39;, anonymous=True) laser_sub_node = LaserSubNode() rospy.spin() ê³¼ì œ - ë¬¼ì²´ íšŒí”¼í•˜ê¸° pub/subì˜ ê°œë…ì„ ì˜ ì´í•´í•˜ì˜€ëŠ”ì§€ ì•Œì•„ë³¼ ìˆ˜ ìˆëŠ” ê³¼ì œë¥¼ ì¤€ë¹„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì •ë‹µì´ ë”°ë¡œ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆê¸°ì— ë¶€ë‹´ ì—†ì´ í•´ë³´ì‹œê³ , ì €ì˜ ë‹µì•ˆë„ í•œë²ˆ ì‚´í´ë³´ì„¸ìš”.\nì˜ˆì œ ì‹¤í–‰ # Terminal 1 roslaunch smb_gazebo smb_gazebo.launch # Ternimal 2 rosrun py_topic_pkg collision_aviod.py Gazebo ì˜ˆì œë¥¼ ì‹¤í–‰í•˜ì˜€ë‹¤ë©´, ë¡œë´‡ì˜ ì „ë°©ì— ì¥ì• ë¬¼ì„ ë†“ì•„ ì§„ë¡œë¥¼ ë§‰ì•„ë´…ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ê»˜ì„œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ê²ƒì€, ë¼ì´ë‹¤ ì„¼ì„œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œë´‡ì´ íšŒí”¼ ì£¼í–‰ì„ í•˜ë„ë¡ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤. ì¼ì¢…ì˜ í…œí”Œë › ì½”ë“œë¥¼ ì²¨ë¶€í•˜ì˜€ìœ¼ë©°, my_collision_aviod.pyë¼ëŠ” ì´ë¦„ì˜ ì½”ë“œì…ë‹ˆë‹¤.\ní•´ë‹¹ ì½”ë“œì˜ TODO ë¶€ë¶„ì„ ì‘ì„±í•˜ì—¬ ì—¬ëŸ¬ë¶„ë§Œì˜ íšŒí”¼ ì•Œê³ ë¦¬ì¦˜ì„ ë§Œë“¤ì–´ ë³´ì„¸ìš”!\në¡œë´‡ì˜ ë¼ì´ë‹¤ ë°ì´í„°ì¸ LaserScanì„ Subscribeí•˜ì—¬ Twist Typeì„ ì‚¬ìš©í•˜ëŠ” scan topicìœ¼ë¡œ publishë¥¼ í•˜ê²Œ ë©ë‹ˆë‹¤. class CollisionAvoidNode: def __init__(self): self.laser_sub_ = rospy.Subscriber(\u0026#34;scan\u0026#34;, LaserScan, self.laser_cb) self.cmd_vel_pub_ = rospy.Publisher(\u0026#34;cmd_vel\u0026#34;, Twist, queue_size=10) self.twist_ = Twist() def laser_cb(self, data): # TODO: Prevent robot from collision # make your own logic to do that return None ì œê°€ ì‘ì„±í•œ ì˜ˆì‹œë¥¼ ìˆ˜ì •í•˜ì—¬ ë”ìš± ë˜‘ë˜‘í•œ ë¡œë´‡ì„ êµ¬í˜„í•˜ì…”ë„ ì¢‹ê³ , ììœ ë¡­ê²Œ ì‹¤ìŠµí•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.\n"
},
{
	"uri": "/kr/ros_basic_noetic/lecture5/",
	"title": "Lecture5 - ",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/kr/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/kr/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]