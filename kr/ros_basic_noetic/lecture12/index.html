<!DOCTYPE html>
<html lang="kr" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.109.0">
    <meta name="description" content="COM2018 OOP Class Lecture Note">
<meta name="author" content="Soo Young Kim">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Lecture12 - More About ROS System - Documentation for Hugo Learn Theme</title>

    
    <link href="/css/nucleus.css?1673305729" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1673305729" rel="stylesheet">
    <link href="/css/hybrid.css?1673305729" rel="stylesheet">
    <link href="/css/featherlight.min.css?1673305729" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1673305729" rel="stylesheet">
    <link href="/css/auto-complete.css?1673305729" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1673305729" rel="stylesheet">
    <link href="/css/theme.css?1673305729" rel="stylesheet">
    <link href="/css/tabs.css?1673305729" rel="stylesheet">
    <link href="/css/hugo-theme.css?1673305729" rel="stylesheet">
    
    <link href="/css/theme-green.css?1673305729" rel="stylesheet">
    
    <link href="/css/foo.css?1673305729" rel="stylesheet"><link href="/css/bar.css?1673305729" rel="stylesheet">

    <script src="/js/jquery-3.3.1.min.js?1673305729"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/kr/ros_basic_noetic/lecture12/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <img width="1097" alt="image" src="https://user-images.githubusercontent.com/12381733/209764275-05dcbdbf-cef7-47ad-94a6-6d61febad01e.png">
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1673305729"></script>
<script type="text/javascript" src="/js/auto-complete.js?1673305729"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/kr";
    
</script>
<script type="text/javascript" src="/js/search.js?1673305729"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/kr'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/kr/ros_basic_noetic/" title="ROS Basics" class="dd-item
        parent
        
        
        ">
      <a href="/kr/ros_basic_noetic/">
          <b>ROS Noetic. </b>ROS Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture1/" title="Lecture1 - Introduction to ROS" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture1/">
        Lecture1 - Introduction to ROS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture2/" title="Lecture2 - Dev Env Setup" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture2/">
        Lecture2 - Dev Env Setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture3/" title="Lecture3 - Core of ROS" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture3/">
        Lecture3 - Core of ROS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture4/" title="Lecture4 - ROS Launch, RViz" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture4/">
        Lecture4 - ROS Launch, RViz
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture5/" title="Lecture5 - First Programming, ROS Topic" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture5/">
        Lecture5 - First Programming, ROS Topic
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture6/" title="Lecture6 - ROS Service, Parameter" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture6/">
        Lecture6 - ROS Service, Parameter
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture7/" title="Lecture7 - Rqt Tools and rosbag, ROS Time" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture7/">
        Lecture7 - Rqt Tools and rosbag, ROS Time
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture8/" title="Lecture8 - Deal with Open Source Projects, Custom Interfaces" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture8/">
        Lecture8 - Deal with Open Source Projects, Custom Interfaces
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture9/" title="Lecture9 - ROS TF and Examples" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture9/">
        Lecture9 - ROS TF and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture10/" title="Lecture10 - TF2 Examples, Outro" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture10/">
        Lecture10 - TF2 Examples, Outro
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture11/" title="Lecture11 - ROSCPP" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture11/">
        Lecture11 - ROSCPP
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture12/" title="Lecture12 - More About ROS System" class="dd-item active">
        <a href="/kr/ros_basic_noetic/lecture12/">
        Lecture12 - More About ROS System
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture13/" title="Lecture13 - SROS" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture13/">
        Lecture13 - SROS
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/ros2_basic_foxy/" title="ROS 2 Basics" class="dd-item
        
        
        
        ">
      <a href="/kr/ros2_basic_foxy/">
          <b>ROS 2 Foxy. </b>ROS 2 Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture1/" title="Lecture1 - Introduction to ROS 2" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture1/">
        Lecture1 - Introduction to ROS 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture2/" title="Lecture2 - ROS 2 Node, Package" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture2/">
        Lecture2 - ROS 2 Node, Package
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture3/" title="Lecture3 - ROS 2 Node Programming, ROS 2 parameter" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture3/">
        Lecture3 - ROS 2 Node Programming, ROS 2 parameter
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture4/" title="Lecture4 - ROS 2 Node C&#43;&#43; Programming" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture4/">
        Lecture4 - ROS 2 Node C&#43;&#43; Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture5/" title="Lecture5 - ROS 2 Topic and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture5/">
        Lecture5 - ROS 2 Topic and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture6/" title="Lecture6 - ROS 2 Service and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture6/">
        Lecture6 - ROS 2 Service and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture7/" title="Lecture7 - Useful ROS 2 Example, Navigation2" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture7/">
        Lecture7 - Useful ROS 2 Example, Navigation2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture8/" title="Lecture8 - ROS 2 Action and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture8/">
        Lecture8 - ROS 2 Action and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture9/" title="Lecture9 - C&#43;&#43; Programming Again, Outro" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture9/">
        Lecture9 - C&#43;&#43; Programming Again, Outro
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/RB2023ROS/du2023-ros1"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="kr" value="/kr/ros_basic_noetic/lecture12/" selected>Korean</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='' href="https://github.com/com2018-fa22/hugo-blog/tree/main/content/ros_basic_noetic/lecture12.kr.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                   Lecture12 - More About ROS System
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#xmlrpc">XMLRPC</a></li>
        <li><a href="#connection-header">Connection Header</a></li>
        <li><a href="#tcpros">TCPROS</a></li>
        <li><a href="#udpros">UDPROS</a></li>
      </ul>
    </li>
    <li><a href="#ros의-통신-시스템-총정리">ROS의 통신 시스템 총정리</a>
      <ul>
        <li><a href="#ros-packet-analysis-demo">ROS Packet Analysis Demo</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Lecture12 - More About ROS System
            </h1>
          

        


<blockquote>
<p>ROS Node가 실행되고 Topic 통신이 이루어지기 위해서 Master에게 자신을 등록하고 Master에 의한 Node간 TCPROS / UDPROS 연결이 이루어져야 합니다.</p>
<p>개념 정리와 예시, 그리고 데모를 통해 ROS의 통신 시스템에 대해 배워봅시다.</p>
</blockquote>
<p><img src="/kr/ros_basic_noetic/images12/lec12_1.png?height=400px" alt="lec12_1.png"></p>
<h3 id="xmlrpc">XMLRPC</h3>
<ul>
<li><strong>Extensible Markup Language - XML</strong>이란, 웹 서비스에서 데이터를 표현하기 위해 사용하는 마크업 언어입니다. (such as HTML), 모든 데이터를 구조화해서 transport하기 때문에 검색과 재사용에 유리합니다.</li>
<li>ROS에서 사용하는 launch file도 xml을 사용하고 있으므로 ROS 개발자들에게는 익숙한 문법일 것입니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/lec12_2.png?height=300px" alt="lec12_2.png"></p>
<ul>
<li>image from : <a href="https://m.blog.naver.com/550sn/222020875886">xml 파일의 비밀</a></li>
</ul>
<p><strong>RPC - remote procedure call</strong> 란, 분산 네트워크 환경에서의 프로그래밍을 용이하게 하기 위해 등장한 기술로, 원격에 정의된 함수를 로컬에서 호출하는 식으로 사용이 가능합니다.</p>
<p><img src="/kr/ros_basic_noetic/images12/lec12_3.png?height=400px" alt="lec12_3.png"></p>
<ul>
<li>image from : <a href="https://www.notion.so/6abae6ab8ab64383a327a52f0c36c70b">RPC란?</a></li>
</ul>
<blockquote>
<p>이 둘을 결합한 XML-RPC는 RPC 기술 과정에서 XML을 사용하는 것입니다. 서버-클라이언트 정보가 XML 문서로 만들어져 응답하게 됩니다.</p>
</blockquote>
<ul>
<li><strong>XML-RPC Request Format Example</strong> - HTTP Header를 포함한 예시이며, /xmlrpc라는 서버에 circleArea라는 method를 request 하는 경우입니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>POST /xmlrpc HTTP 1.0
</span></span><span style="display:flex;"><span>User-Agent: myXMLRPCClient/1.0
</span></span><span style="display:flex;"><span>Host: 192.168.124.2
</span></span><span style="display:flex;"><span>Content-Type: text/xml
</span></span><span style="display:flex;"><span>Content-Length: 169
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;methodCall&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">&lt;methodName&gt;</span>circleArea<span style="color:#f92672">&lt;/methodName&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;params&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">&lt;param&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;value&gt;&lt;double&gt;</span>2.41<span style="color:#f92672">&lt;/double&gt;&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/params&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/methodCall&gt;</span>
</span></span></code></pre></div><ul>
<li><strong>XML-RPC Response Format Example</strong> - Request와 유사한 구조를 갖지만 methodCall 대신 methodResponse가 사용되며, methodName가 없다는 차이를 갖습니다. Header는 성공, 실패 유무와 상관 없이 200 OK를 반환한다는 점에 유의합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>HTTP/1.1 200 OK
</span></span><span style="display:flex;"><span>Date: Sat, 06 Oct 2001 23:20:04 GMT
</span></span><span style="display:flex;"><span>Server: Apache.1.3.12 (Unix)
</span></span><span style="display:flex;"><span>Connection: close
</span></span><span style="display:flex;"><span>Content-Type: text/xml
</span></span><span style="display:flex;"><span>Content-Length: 124
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;methodResponse&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">&lt;params&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;param&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">&lt;value&gt;&lt;double&gt;</span>18.24668429131<span style="color:#f92672">&lt;/double&gt;&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">&lt;/params&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/methodResponse&gt;</span>
</span></span></code></pre></div><p>ROS는 Topic, Service 통신을 위해 standard TCP/UDP socket에 기반하여 독자적인 Header와 프로토콜을 가진 TCPROS/UDPROS를 만들었습니다. 이들에 대해 하나씩 살펴보겠습니다.</p>
<h3 id="connection-header">Connection Header</h3>
<blockquote>
<p><strong>Connection Header</strong>는 Node간 통신이 이루어지기 위한 typing, routing 데이터를 포함하고 있으며 TCPROS와 UDPROS 별도 다른 형태를 갖고 있습니다. 공식 문서에서 명확히 밝히고 있는 TCPROS의 Connection Header를 분석해봅시다.</p>
</blockquote>
<ul>
<li>Encoding Format은 다음과 같습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>4-byte length + <span style="color:#f92672">[</span>4-byte field length + field<span style="color:#f92672">=</span>value <span style="color:#f92672">]</span>*
</span></span><span style="display:flex;"><span>* All length fields are little-endian integers
</span></span><span style="display:flex;"><span>* Field names and values are strings.
</span></span></code></pre></div><ul>
<li><code>rostopic pub /chatter std_msgs/String &quot;hello”</code> 에 대한 hex output은 아래와 같습니다.</li>
</ul>
<p>전체 header 길이 176 바이트 ⇒ (b0 00 00 00, little-endian 사용)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>b0 <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>      6d <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">67</span> <span style="color:#ae81ff">65</span> 5f <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">66</span> <span style="color:#ae81ff">69</span> 6e <span style="color:#ae81ff">69</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">69</span> 6f 6e 3d <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">72</span> <span style="color:#ae81ff">69</span> 6e <span style="color:#ae81ff">67</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">61</span> 0a 0a
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">61</span> 6c 6c <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">72</span> <span style="color:#ae81ff">69</span> <span style="color:#ae81ff">64</span> 3d 2f <span style="color:#ae81ff">72</span> 6f <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">74</span> 6f <span style="color:#ae81ff">70</span> <span style="color:#ae81ff">69</span> <span style="color:#ae81ff">63</span> 5f <span style="color:#ae81ff">34</span> <span style="color:#ae81ff">37</span> <span style="color:#ae81ff">36</span> <span style="color:#ae81ff">37</span> 5f <span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">36</span> <span style="color:#ae81ff">39</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">32</span> <span style="color:#ae81ff">37</span> <span style="color:#ae81ff">34</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">35</span> <span style="color:#ae81ff">35</span> <span style="color:#ae81ff">37</span>
</span></span><span style="display:flex;"><span>   0a <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>      6c <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">68</span> <span style="color:#ae81ff">69</span> 6e <span style="color:#ae81ff">67</span> 3d <span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>      6d <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">35</span> <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">75</span> 6d 3d <span style="color:#ae81ff">39</span> <span style="color:#ae81ff">39</span> <span style="color:#ae81ff">32</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">36</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">37</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">62</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">37</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">34</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span>   0e <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">74</span> 6f <span style="color:#ae81ff">70</span> <span style="color:#ae81ff">69</span> <span style="color:#ae81ff">63</span> 3d 2f <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">68</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">72</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">79</span> <span style="color:#ae81ff">70</span> <span style="color:#ae81ff">65</span> 3d <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">64</span> 5f 6d <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">67</span> <span style="color:#ae81ff">73</span> 2f <span style="color:#ae81ff">53</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">72</span> <span style="color:#ae81ff">69</span> 6e <span style="color:#ae81ff">67</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">09</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">05</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">68</span> <span style="color:#ae81ff">65</span> 6c 6c 6f
</span></span></code></pre></div><ul>
<li>message_definition 필드는 아래와 같이 해석됩니다. - 길이 32 bytes (20 00 00 00)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>6d <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">67</span> <span style="color:#ae81ff">65</span> 5f <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">66</span> <span style="color:#ae81ff">69</span> 6e <span style="color:#ae81ff">69</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">69</span> 6f 6e 3d <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">72</span> <span style="color:#ae81ff">69</span> 6e 67-
</span></span><span style="display:flex;"><span> m  e  s  s  a  g  e  _  d  e  f  i  n  i  t  i  o  n  <span style="color:#f92672">=</span>  s  t  r  i  n  g-
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">20</span> <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">61</span> 0a 0a
</span></span><span style="display:flex;"><span>    d  a  t  a <span style="color:#ae81ff">\n</span> <span style="color:#ae81ff">\n</span>
</span></span></code></pre></div><ul>
<li>callerid 필드는 아래와 같이 해석됩니다. - 길이 37 bytes (25 00 00 00)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">63</span> <span style="color:#ae81ff">61</span> 6c 6c <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">72</span> <span style="color:#ae81ff">69</span> <span style="color:#ae81ff">64</span> 3d 2f <span style="color:#ae81ff">72</span> 6f <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">74</span> 6f <span style="color:#ae81ff">70</span> <span style="color:#ae81ff">69</span> <span style="color:#ae81ff">63</span> 5f <span style="color:#ae81ff">34</span> <span style="color:#ae81ff">37</span> <span style="color:#ae81ff">36</span> <span style="color:#ae81ff">37</span> 5f <span style="color:#ae81ff">31</span> 33-
</span></span><span style="display:flex;"><span> c  a  l  l  e  r  i  d  <span style="color:#f92672">=</span>  /  r  o  s  t  o  p  i  c  _  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>  _  <span style="color:#ae81ff">1</span>  3-
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">31</span> <span style="color:#ae81ff">36</span> <span style="color:#ae81ff">39</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">32</span> <span style="color:#ae81ff">37</span> <span style="color:#ae81ff">34</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">35</span> <span style="color:#ae81ff">35</span> <span style="color:#ae81ff">37</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">7</span>
</span></span></code></pre></div><ul>
<li>latching 필드는 아래와 같이 해석됩니다. - 길이 10 bytes (0a 00 00 00)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>6c <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">68</span> <span style="color:#ae81ff">69</span> 6e <span style="color:#ae81ff">67</span> 3d <span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span> l  a  t  c  h  i  n  g  <span style="color:#f92672">=</span>  <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><ul>
<li>md5sum 필드는 아래와 같이 해석됩니다. - 길이 39 bytes (27 00 00 00)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>6d <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">35</span> <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">75</span> 6d 3d <span style="color:#ae81ff">39</span> <span style="color:#ae81ff">39</span> <span style="color:#ae81ff">32</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">36</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">37</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">62</span> 64-
</span></span><span style="display:flex;"><span> m  d  <span style="color:#ae81ff">5</span>  s  u  m  <span style="color:#f92672">=</span>  <span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">2</span>  c  e  <span style="color:#ae81ff">8</span>  a  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">7</span>  c  e  c  <span style="color:#ae81ff">8</span>  c  <span style="color:#ae81ff">8</span>  b  d- 
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">38</span> <span style="color:#ae81ff">38</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">37</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">34</span> <span style="color:#ae81ff">31</span> <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">3</span>  e  c  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">3</span>  c  a  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">1</span>  d  <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><ul>
<li>topic 필드는 아래와 같이 해석됩니다. - 길이 14 bytes (0e 00 00 00)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">74</span> 6f <span style="color:#ae81ff">70</span> <span style="color:#ae81ff">69</span> <span style="color:#ae81ff">63</span> 3d 2f <span style="color:#ae81ff">63</span> <span style="color:#ae81ff">68</span> <span style="color:#ae81ff">61</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">65</span> <span style="color:#ae81ff">72</span>
</span></span><span style="display:flex;"><span> t  o  p  i  c  <span style="color:#f92672">=</span>  /  c  h  a  t  t  e  r
</span></span></code></pre></div><ul>
<li>message type 필드는 아래와 같이 해석됩니다. - 길이 20 bytes (14 00 00 00)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">74</span> <span style="color:#ae81ff">79</span> <span style="color:#ae81ff">70</span> <span style="color:#ae81ff">65</span> 3d <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">64</span> 5f 6d <span style="color:#ae81ff">73</span> <span style="color:#ae81ff">67</span> <span style="color:#ae81ff">73</span> 2f <span style="color:#ae81ff">53</span> <span style="color:#ae81ff">74</span> <span style="color:#ae81ff">72</span> <span style="color:#ae81ff">69</span> 6e <span style="color:#ae81ff">67</span>
</span></span><span style="display:flex;"><span> t  y  p  e  <span style="color:#f92672">=</span>  s  t  d  _  m  s  g  s  /  S  t  r  i  n  g
</span></span></code></pre></div><ul>
<li>hello라는 데이터 response는 5 bytes를 갖고, message body 필드 길이는 9 bytes이며, std_msgs/String 타입을 갖습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">09</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">05</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">68</span> <span style="color:#ae81ff">65</span> 6c 6c 6f
</span></span><span style="display:flex;"><span>       h  e  l  l  o
</span></span></code></pre></div><p>이렇게 Topic response는 특정 필드와 데이터로 구성되어 있습니다.</p>
<p>사용되는 모든 필드에 대한 데이터는 링크로 대체하겠습니다.</p>
<p><img src="/kr/ros_basic_noetic/images12/lec12_4.png?height=300px" alt="lec12_4.png"></p>
<ul>
<li>참고링크 : <a href="http://wiki.ros.org/ROS/Connection%20Header">http://wiki.ros.org/ROS/Connection Header</a></li>
</ul>
<h3 id="tcpros">TCPROS</h3>
<blockquote>
<p>TCPROS는 ROS의 Topic, Service 통신 시 Inbound connection으로 TCP 소켓을 사용하는 방식입니다. 일전 살펴본 Connection Header에서와 같이 특정 필드들을 결합하여 Header와 Data를 송수신합니다.</p>
</blockquote>
<p>만약 header가 &rsquo;topic&rsquo; 필드를 포함하고 있다면 ROS Topic 연결로 이루어지고 &lsquo;service&rsquo; 필드를 포함하고 있다면 ROS Service 연결로 이루어지는 방식입니다.</p>
<ul>
<li>각각의 필드들에 대한 간략한 나열은 아래와 같습니다.</li>
</ul>
<p>TCPROS subscriber의 Request</p>
<ul>
<li><strong>message_definition</strong>: full text of message definition</li>
<li><strong>callerid</strong>: subscriber node name</li>
<li><strong>topic</strong>: name of the topic the subscriber is connecting to</li>
<li><strong>md5sum</strong>: md5sum of the message type</li>
<li><strong>type</strong>: message type</li>
</ul>

<div class="notices note" ><p><strong>md5sum 이란</strong>? 파일을 다운받거나, 이동하거나, 복사한 후에 원본파일과 동일한 파일인지 확인하는 목적으로 쓰이는 해시 알고리즘입니다. (ex - git의 SHA-1)</p>
</div>

<p>TCPROS publisher의 Response</p>
<ul>
<li><strong>md5sum</strong>: md5sum of the message type</li>
<li><strong>type</strong>: message type</li>
</ul>
<p>TCPROS service client의 Request</p>
<ul>
<li><strong>callerid</strong>: node name of service client</li>
<li><strong>service</strong>: name of the topic the subscriber is connecting to</li>
<li><strong>md5sum</strong>: md5sum of the message type</li>
<li><strong>type</strong>: service type</li>
</ul>
<p>optional 필드들</p>
<ul>
<li><strong>tcp_nodelay</strong>: 이 값이 &lsquo;1&rsquo; 일 시 topic 통신에 TCP_NODELAY 옵션을 적용합니다.</li>
<li><strong>latching</strong>: latch를 사용하면 마지막으로 메시지가 저장되고 이후 연결 시 이 데이터를 전송합니다. 지도와 같이 정적이고 느린 데이터를 다룰 때 유용합니다. 이 값이 &lsquo;1&rsquo; 이면 publish하는 데이터가 latch라는 것을 의미합니다.</li>
<li><strong>persistent</strong>: 이 값이 &lsquo;1&rsquo; 일 시, Service Server는 여러 Request에 대응하여 계속 통신을 열어둬야 한다는 것을 의미합니다.</li>
<li><strong>error</strong>: 통신 실패 시 등장하는 human-readable error message입니다.</li>
<li><strong>ok</strong>: Service Response에서 사용되는 값으로 이 값이 &lsquo;1&rsquo; 일 시, response가 성공적으로 통신되지만, 이 값이 &lsquo;0&rsquo; 일 시, serialized string 타입의 에러 메세지가 이어집니다. 경우에 따라 return false로 인해 비어있을 수 있습니다.</li>
</ul>
<h3 id="udpros">UDPROS</h3>
<blockquote>
<p>UDPROS는 ROS의 Topic, Service 통신 시 Inbound connection으로 UDP 소켓을 사용하는 방식입니다. UDPROS는 standard UDP datagram과 serialized된 message data를 사용하며, 로봇의 제어와 센서 데이터를 다루는 것과 같이 빠른 통신에 사용됩니다.</p>
</blockquote>
<p>UDPROS header format은 아래와 같으며 TCPROS에 비해 훨씬 간단합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>+---------------------------------+
</span></span><span style="display:flex;"><span>|          Connection ID          |
</span></span><span style="display:flex;"><span>+---------------------------------+
</span></span><span style="display:flex;"><span>|Opcode | Msg ID |    Block <span style="color:#75715e">#     |</span>
</span></span><span style="display:flex;"><span>+---------------------------------+
</span></span></code></pre></div><ul>
<li><strong>Connection ID</strong> - 32-bit value로 connection negotiation 중 결정됩니다.</li>
<li><strong>Opcode</strong> - UDPROS는 여러 datagram type을 지원하는데, 이들을 명시하는 코드입니다.
<ul>
<li><strong>DATA0 (0)</strong> - ROS message의 가장 처음에 전송됩니다.</li>
<li><strong>DATAN (1)</strong> - 첫 전송 이후 계속해서 이 타입이 사용됩니다.</li>
<li><strong>PING (2)</strong> - heartbeat packet입니다.</li>
<li><strong>ERR (3)</strong> - 갑작스런 connection 단절 시 사용됩니다.</li>
</ul>
</li>
<li><strong>Message ID</strong> - 새 메시지가 전송될 때마다 증가되며 데이터가 삭제되었는지 여부를 확인하는 데 사용되는 8비트 값입니다.</li>
<li><strong>Block #</strong> - opcode가 DATAN인 경우, 현재 datagram 번호가 되며, opcode가 DATA0이 아닌 이상 0을 갖고, 전체 ROS message의 개수를 나타냅니다.</li>
</ul>
<p>추가 특징</p>
<ul>
<li>ROS messages는 다수의 Subscriber를 가질 수 있습니다.</li>
<li>첫 datagram은 전체 datagrams의 수를 담게 됩니다.</li>
<li>connection negotiation 중 사용할 최대 message per datagram이 결정됩니다.</li>
</ul>
<h2 id="ros의-통신-시스템-총정리">ROS의 통신 시스템 총정리</h2>
<p>ROS Master와 Node에 의해 Topic과 Service가 이루어지는 과정을 총정리해봅시다.</p>
<p><img src="/kr/ros_basic_noetic/images12/conn_1.png?height=400px" alt="conn_1.png"></p>
<ul>
<li><strong>roscore</strong> 명령어를 통해 Node간 접속을 주관하고 URI 주소/포트를 등록받는 ROS Master를 구동시킵니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_2.png?height=300px" alt="conn_2.png"></p>
<ul>
<li>rosrun 혹은 roslaunch에 의해 Node가 실행됩니다. Subscriber Node가 구동되는 과정에서, Node 자신의 이름, Topic 이름, Message Type, URI 주소와 포트가 주고 받아집니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_3.png?height=300px" alt="conn_3.png"></p>
<ul>
<li>다음으로, Publisher Node가 구동되며 Subscriber와 마찬가지로 Topic 등록을 위해 Master와 각종 데이터를 주고 받습니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_4.png?height=300px" alt="conn_4.png"></p>
<ul>
<li>ROS Master가 Subscriber Node에게 Publisher의 정보를 전달하고, 이때, XML-RPC를 이용하여 통신합니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_5.png?height=300px" alt="conn_5.png"></p>
<ul>
<li>Subscriber Node는 ROS Master로부터 Publisher의 정보를 받아 해당 Node에게 직접 접속 요청을 합니다. Node 이름, Topic 이름, 방식(TCPROS 또는 UDPROS)과 같은 정보를  XMLRPC 를 이용하여 통신하게 됩니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_6.png?height=300px" alt="conn_6.png"></p>
<ul>
<li>Publisher Node는 Subscriber Node에게 접속 응답을 하게 되고, 자신의 TCP 서버의 정보인 URI주소와 포트를 XMLRPC 를 이용하여 전달하게 됩니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_7.png?height=300px" alt="conn_7.png"></p>
<ul>
<li>Subscriber Node는 TCPROS를 통해 클라이언트를 만들고, Publisher Node와 직접 연결합니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_8.png?height=300px" alt="conn_8.png"></p>
<ul>
<li>이제부터, Publisher Node는 Subscriber Node에게 정해진 메시지를 전송하게 됩니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_9.png?height=300px" alt="conn_9.png"></p>
<ul>
<li>Service의 경우 Topic과 달리 1회성 연결이기 때문에, 접속, 서비스 요청, 서비스 응답이 수행되고 서로간의 접속을 끊게 됩니다. 이후 Service 통신을 다시 진행해야 하는 경우 처음부터 다시 진행해야 합니다.</li>
</ul>
<p><img src="/kr/ros_basic_noetic/images12/conn_10.png?height=300px" alt="conn_10.png"></p>
<ul>
<li>Topic 접속의 종료 시, Node의 종료 시에도 각 Node들은 ROS Master에게 XML-RPC를 통해 종료 Message를 주고받습니다.</li>
</ul>
<h3 id="ros-packet-analysis-demo">ROS Packet Analysis Demo</h3>
<p>ROS 내부의 통신이 이루어지는 과정을 배운 만큼 <a href="https://www.wireshark.org/">WireShark</a>를 통해 실제 오가는 패킷을 분석해 봅시다.</p>
<hr>
<p><strong>자료출처</strong></p>
<ul>
<li><a href="https://www.tutorialspoint.com/xml-rpc/xml_rpc_fault.htm">https://www.tutorialspoint.com/xml-rpc/xml_rpc_fault.htm</a></li>
<li><a href="http://wiki.ros.org/ROS/Connection%20Header">http://wiki.ros.org/ROS/Connection Header</a></li>
<li><a href="http://wiki.ros.org/ROS/TCPROS">http://wiki.ros.org/ROS/TCPROS</a></li>
<li><a href="https://cafe.naver.com/openrt/2468">로봇 운영체제 강좌 : ROS 개념 정리 (오픈소스 소프트웨어 &amp; 하드웨어: 로봇 기술 공유 카페 (오로카))</a></li>
</ul>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/kr/ros_basic_noetic/lecture11/" title="Lecture11 - ROSCPP"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/kr/ros_basic_noetic/lecture13/" title="Lecture13 - SROS" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1673305729"></script>
    <script src="/js/perfect-scrollbar.min.js?1673305729"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1673305729"></script>
    <script src="/js/jquery.sticky.js?1673305729"></script>
    <script src="/js/featherlight.min.js?1673305729"></script>
    <script src="/js/highlight.pack.js?1673305729"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1673305729"></script>
    <script src="/js/learn.js?1673305729"></script>
    <script src="/js/hugo-learn.js?1673305729"></script>
    
        
            <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

