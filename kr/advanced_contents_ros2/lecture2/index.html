<!DOCTYPE html>
<html lang="kr" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.104.1" />
    <meta name="description" content="COM2018 OOP Class Lecture Note">
<meta name="author" content="Soo Young Kim">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Lecture11 - About DDS (2) - Documentation for Hugo Learn Theme</title>

    
    <link href="/css/nucleus.css?1684760080" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1684760080" rel="stylesheet">
    <link href="/css/hybrid.css?1684760080" rel="stylesheet">
    <link href="/css/featherlight.min.css?1684760080" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1684760080" rel="stylesheet">
    <link href="/css/auto-complete.css?1684760080" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1684760080" rel="stylesheet">
    <link href="/css/theme.css?1684760080" rel="stylesheet">
    <link href="/css/tabs.css?1684760080" rel="stylesheet">
    <link href="/css/hugo-theme.css?1684760080" rel="stylesheet">
    
    <link href="/css/theme-green.css?1684760080" rel="stylesheet">
    
    <link href="/css/foo.css?1684760080" rel="stylesheet"><link href="/css/bar.css?1684760080" rel="stylesheet">

    <script src="/js/jquery-3.3.1.min.js?1684760080"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/kr/advanced_contents_ros2/lecture2/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <img width="1097" alt="image" src="https://user-images.githubusercontent.com/12381733/209764275-05dcbdbf-cef7-47ad-94a6-6d61febad01e.png">
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1684760080"></script>
<script type="text/javascript" src="/js/auto-complete.js?1684760080"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/kr";
    
</script>
<script type="text/javascript" src="/js/search.js?1684760080"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/kr'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/kr/ros_basic_noetic/" title="ROS Basics" class="dd-item
        
        
        
        ">
      <a href="/kr/ros_basic_noetic/">
          <b>ROS Noetic. </b>ROS Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture1/" title="Lecture1 - Introduction to ROS" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture1/">
        Lecture1 - Introduction to ROS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture2/" title="Lecture2 - Dev Env Setup" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture2/">
        Lecture2 - Dev Env Setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture3/" title="Lecture3 - Core of ROS" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture3/">
        Lecture3 - Core of ROS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture4/" title="Lecture4 - ROS Launch, RViz" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture4/">
        Lecture4 - ROS Launch, RViz
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture5/" title="Lecture5 - First Programming, ROS Topic" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture5/">
        Lecture5 - First Programming, ROS Topic
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture6/" title="Lecture6 - ROS Service, Parameter" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture6/">
        Lecture6 - ROS Service, Parameter
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture7/" title="Lecture7 - Rqt Tools and rosbag, ROS Time" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture7/">
        Lecture7 - Rqt Tools and rosbag, ROS Time
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture8/" title="Lecture8 - Deal with Open Source Projects, Custom Interfaces" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture8/">
        Lecture8 - Deal with Open Source Projects, Custom Interfaces
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture9/" title="Lecture9 - ROS TF and Examples" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture9/">
        Lecture9 - ROS TF and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_basic_noetic/lecture10/" title="Lecture10 - TF2 Examples, Outro" class="dd-item ">
        <a href="/kr/ros_basic_noetic/lecture10/">
        Lecture10 - TF2 Examples, Outro
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/advanced_contents_ros1/" title="ROS" class="dd-item
        
        
        
        ">
      <a href="/kr/advanced_contents_ros1/">
          <b>Advanced Contents. </b>ROS
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros1/lecture1/" title="Lecture1 - ROSCPP" class="dd-item ">
        <a href="/kr/advanced_contents_ros1/lecture1/">
        Lecture1 - ROSCPP
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros1/lecture2/" title="Lecture2 - More About ROS System" class="dd-item ">
        <a href="/kr/advanced_contents_ros1/lecture2/">
        Lecture2 - More About ROS System
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros1/lecture3/" title="Lecture3 - SROS" class="dd-item ">
        <a href="/kr/advanced_contents_ros1/lecture3/">
        Lecture3 - SROS
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/ros2_basic_foxy/" title="ROS 2 Basics" class="dd-item
        
        
        
        ">
      <a href="/kr/ros2_basic_foxy/">
          <b>[Old]ROS 2 Foxy. </b>ROS 2 Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture1/" title="Lecture1 - Introduction to ROS 2" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture1/">
        Lecture1 - Introduction to ROS 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture2/" title="Lecture2 - ROS 2 Node, Package" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture2/">
        Lecture2 - ROS 2 Node, Package
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture3/" title="Lecture3 - ROS 2 Node Programming, ROS 2 parameter" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture3/">
        Lecture3 - ROS 2 Node Programming, ROS 2 parameter
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture4/" title="Lecture4 - ROS 2 Node C&#43;&#43; Programming" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture4/">
        Lecture4 - ROS 2 Node C&#43;&#43; Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture5/" title="Lecture5 - ROS 2 Topic and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture5/">
        Lecture5 - ROS 2 Topic and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture6/" title="Lecture6 - ROS 2 Service and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture6/">
        Lecture6 - ROS 2 Service and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture7/" title="Lecture7 - Useful ROS 2 Example, Navigation2" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture7/">
        Lecture7 - Useful ROS 2 Example, Navigation2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture8/" title="Lecture8 - ROS 2 Action and Examples" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture8/">
        Lecture8 - ROS 2 Action and Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_basic_foxy/lecture9/" title="Lecture9 - C&#43;&#43; Programming Again, Outro" class="dd-item ">
        <a href="/kr/ros2_basic_foxy/lecture9/">
        Lecture9 - C&#43;&#43; Programming Again, Outro
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/ros2_foxy/" title="ROS 2 Basics" class="dd-item
        
        
        
        ">
      <a href="/kr/ros2_foxy/">
          <b>[New]ROS 2 Foxy. </b>ROS 2 Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture1/" title="Lecture1. What is ROS?" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture1/">
        Lecture1. What is ROS?
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture2/" title="Lecture2. Dev Env Setup" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture2/">
        Lecture2. Dev Env Setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture3/" title="Lecture3. Core of ROS" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture3/">
        Lecture3. Core of ROS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture4/" title="Lecture4. ROS 2 Node and Parameter Programming" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture4/">
        Lecture4. ROS 2 Node and Parameter Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture5/" title="Lecture5. ROS 2 Communication Mechanisms" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture5/">
        Lecture5. ROS 2 Communication Mechanisms
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture6/" title="Lecture6. ROS 2 Tools" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture6/">
        Lecture6. ROS 2 Tools
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture7/" title="Lecture7. ROS 2 Topic and Programming" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture7/">
        Lecture7. ROS 2 Topic and Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture8/" title="Lecture8. ROS 2 Service and Programming" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture8/">
        Lecture8. ROS 2 Service and Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture9/" title="Lecture9. ROS 2 Action Programming" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture9/">
        Lecture9. ROS 2 Action Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture10/" title="Lecture10. TF and ROS 2" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture10/">
        Lecture10. TF and ROS 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture11/" title="Lecture11. About Gazebo - 1" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture11/">
        Lecture11. About Gazebo - 1
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture12/" title="Lecture12. About Gazebo - 2" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture12/">
        Lecture12. About Gazebo - 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture13/" title="Lecture13. Useful ROS 2 Examples (Sensor Part)" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture13/">
        Lecture13. Useful ROS 2 Examples (Sensor Part)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture14/" title="Lecture14. Useful ROS 2 Examples (Control Part)" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture14/">
        Lecture14. Useful ROS 2 Examples (Control Part)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture15/" title="Lecture15. Advanced ROS 2, Package Management" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture15/">
        Lecture15. Advanced ROS 2, Package Management
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture16/" title="Lecture16. Useful ROS 2 Examples (Misc)" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture16/">
        Lecture16. Useful ROS 2 Examples (Misc)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture17/" title="Lecture17. Real Hardware Examples" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture17/">
        Lecture17. Real Hardware Examples
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture18/" title="Lecture18. Point Cloud Deep Learning Example (PointNet)" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture18/">
        Lecture18. Point Cloud Deep Learning Example (PointNet)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture19/" title="Lecture19. NVIDIA Isaac Sim" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture19/">
        Lecture19. NVIDIA Isaac Sim
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros2_foxy/lecture20/" title="Lecture20. NVIDIA Jetson Platform" class="dd-item ">
        <a href="/kr/ros2_foxy/lecture20/">
        Lecture20. NVIDIA Jetson Platform
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/advanced_contents_ros2/" title="ROS 2" class="dd-item
        parent
        
        
        ">
      <a href="/kr/advanced_contents_ros2/">
          <b>Advanced Contents. </b>ROS 2
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros2/lecture1/" title="Lecture1 - About DDS" class="dd-item ">
        <a href="/kr/advanced_contents_ros2/lecture1/">
        Lecture1 - About DDS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros2/lecture2/" title="Lecture11 - About DDS (2)" class="dd-item active">
        <a href="/kr/advanced_contents_ros2/lecture2/">
        Lecture11 - About DDS (2)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/advanced_contents_ros2/lecture3/" title="Lecture12 - SROS2" class="dd-item ">
        <a href="/kr/advanced_contents_ros2/lecture3/">
        Lecture12 - SROS2
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/kr/ros_and_gazebo/" title="Gazebo and ROS" class="dd-item
        
        
        
        ">
      <a href="/kr/ros_and_gazebo/">
          <b>Gazebo. </b>Gazebo and ROS
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_and_gazebo/lecture1/" title="Lecture1 - Gazebo and Robot" class="dd-item ">
        <a href="/kr/ros_and_gazebo/lecture1/">
        Lecture1 - Gazebo and Robot
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/kr/ros_and_gazebo/lecture2/" title="Lecture2 - Gazebo and Robot(2)" class="dd-item ">
        <a href="/kr/ros_and_gazebo/lecture2/">
        Lecture2 - Gazebo and Robot(2)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/RB2023ROS/du2023-ros1"><i class='fab fa-fw fa-github'></i> GitHub repo - ROS 1</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/RB2023ROS/du2023-ros2"><i class='fab fa-fw fa-github'></i> GitHub repo - ROS 2</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="kr" value="/kr/advanced_contents_ros2/lecture2/" selected>Korean</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='' href="https://github.com/com2018-fa22/hugo-blog/tree/main/content/advanced_contents_ros2/lecture2.kr.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                   Lecture11 - About DDS (2)
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#dds의-idl">DDS의 IDL</a></li>
    <li><a href="#ddsrtps패킷-확인해보기-wireshark">DDS RTPS 패킷 확인해보기 (wireshark)</a>
      <ul>
        <li><a href="#ros-2-domain-id">ROS 2 Domain ID</a></li>
        <li><a href="#ros-rmw와-다양한-dds-벤더들">ROS RMW와 다양한 DDS 벤더들</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Lecture11 - About DDS (2)
            </h1>
          

        


<h2 id="dds의-idl">DDS의 IDL</h2>
<blockquote>
<p>DDS에서는 특정 언어에 의존적이지 않는 데이터 통신을 위해 IDL을 사용합니다.</p>
</blockquote>
<p><strong>IDL - Interface Description Language 또는 Interface Definition Language</strong>는 어느 한 언어에 국한되지 않는 언어중립적인 방법으로 인터페이스를 표현함으로써, 같은 언어를 사용하지 않는 컴포넌트 사이의 통신을 가능하게 합니다.</p>
<ul>
<li>OMG의 Interface Definition Language Version 3.5에 따른 사용 가능한 키워드들은 아래와 같습니다.</li>
</ul>
<p><img src="/kr/advanced_contents_ros2/images1/idl0.png?height=300px" alt="idl0.png"></p>
<ul>
<li>image from : <a href="https://blog.naver.com/PostView.naver?blogId=neos_rtos&amp;logNo=30185472655&amp;parentCategoryNo=&amp;categoryNo=20&amp;viewDate=&amp;isShowPopularPosts=false&amp;from=postList">MDS 테크</a></li>
</ul>
<p>ROS 2에서는 <strong>interface</strong>라는 이름으로 topic message, service srv, action action이 사용되었지요. 이들이 모두 IDL 타입을 갖기 때문에 rclpy, rclcpp, rcljava 모두에서 사용할 수 있는 것입니다.</p>
<blockquote>
<p>custom interface를 빌드하게 되면, 해당 패키지 내부에 생성된 IDL들을 확인할 수 있습니다. build 폴더 내부 패키지 폴더에 진입하면 사진과 같이 다양한 언어를 지원하기 위한 설정 파일들이 위치하는 것을 확인 가능합니다.</p>
</blockquote>
<p><img src="/kr/advanced_contents_ros2/images1/idl1.png?height=400px" alt="idl1.png"></p>
<ul>
<li>rosidl_generator_py__arguments.json</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;package_name&#34;</span>: <span style="color:#e6db74">&#34;custom_interfaces&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;output_dir&#34;</span>: <span style="color:#e6db74">&#34;/home/kimsooyoung/ros2_ws/build/custom_interfaces/rosidl_generator_py/custom_interfaces&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;template_dir&#34;</span>: <span style="color:#e6db74">&#34;/opt/ros/foxy/share/rosidl_generator_py/cmake/../resource&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;idl_tuples&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;/home/kimsooyoung/ros2_ws/build/custom_interfaces/rosidl_adapter/custom_interfaces:action/Parking.idl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;/home/kimsooyoung/ros2_ws/build/custom_interfaces/rosidl_adapter/custom_interfaces:srv/CircleTurtle.idl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;/home/kimsooyoung/ros2_ws/build/custom_interfaces/rosidl_adapter/custom_interfaces:srv/TurtleJail.idl&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ros_interface_dependencies&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;action_msgs:/opt/ros/foxy/share/action_msgs/msg/GoalInfo.idl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;action_msgs:/opt/ros/foxy/share/action_msgs/msg/GoalStatus.idl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;action_msgs:/opt/ros/foxy/share/action_msgs/msg/GoalStatusArray.idl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;action_msgs:/opt/ros/foxy/share/action_msgs/srv/CancelGoal.idl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;builtin_interfaces:/opt/ros/foxy/share/builtin_interfaces/msg/Duration.idl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;builtin_interfaces:/opt/ros/foxy/share/builtin_interfaces/msg/Time.idl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;unique_identifier_msgs:/opt/ros/foxy/share/unique_identifier_msgs/msg/UUID.idl&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">...</span>
</span></span></code></pre></div><blockquote>
<p>생성된 IDL 파일 내부를 함께 살펴봅시다. custom_interfaces ⇒ rosidl_adapter ⇒ custom_interfaces ⇒ action 폴더 내부에 위치한 Parking.idl은 아래와 같은 IDL 형태를 띄고 있습니다.</p>
</blockquote>
<ul>
<li>Parking.idl</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// generated from rosidl_adapter/resource/action.idl.em
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// with input from custom_interfaces/action/Parking.action
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// generated code does not contain a copyright notice
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">module</span> <span style="color:#960050;background-color:#1e0010">custom_interfaces</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">module</span> <span style="color:#960050;background-color:#1e0010">action</span> <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">@verbatim</span> <span style="color:#960050;background-color:#1e0010">(language=</span><span style="color:#f92672">&#34;comment&#34;</span>, <span style="color:#960050;background-color:#1e0010">text=</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;goal definition&#34;</span><span style="color:#960050;background-color:#1e0010">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">struct</span> <span style="color:#960050;background-color:#1e0010">Parking_Goal</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">boolean</span> <span style="color:#960050;background-color:#1e0010">start_flag;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">struct</span> <span style="color:#960050;background-color:#1e0010">Parking_Result</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">@verbatim</span> <span style="color:#960050;background-color:#1e0010">(language=</span><span style="color:#f92672">&#34;comment&#34;</span>, <span style="color:#960050;background-color:#1e0010">text=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;result definition&#34;</span><span style="color:#960050;background-color:#1e0010">)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">string</span> <span style="color:#960050;background-color:#1e0010">message;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">struct</span> <span style="color:#960050;background-color:#1e0010">Parking_Feedback</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">@verbatim</span> <span style="color:#960050;background-color:#1e0010">(language=</span><span style="color:#f92672">&#34;comment&#34;</span>, <span style="color:#960050;background-color:#1e0010">text=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;feedback definition&#34;</span><span style="color:#960050;background-color:#1e0010">)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">float</span> <span style="color:#960050;background-color:#1e0010">distance;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">;</span>
</span></span><span style="display:flex;"><span>  }<span style="color:#960050;background-color:#1e0010">;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">};</span>
</span></span></code></pre></div><h2 id="ddsrtps패킷-확인해보기-wireshark">DDS RTPS 패킷 확인해보기 (wireshark)</h2>
<p><strong>DDS RTPS의 well-know UDP/IP</strong></p>
<p>discovery과정에서 participant는 미리 정의된 rule에 따라 address와 port를 사용합니다. SPDP에서는 multicast의 address로 <strong>239.255.0.1</strong> 을 사용하고 아래와 같은 port 설정 rule을 따릅니다.</p>
<p><img src="/kr/advanced_contents_ros2/images1/pk0.png?height=300px" alt="pk0.png"></p>
<p>=&gt; 따라서, wireshark 실행 시 destination option을 239.255.0.1로 설정합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">ip.dst</span> <span style="color:#960050;background-color:#1e0010">==</span> <span style="color:#ae81ff">239.255</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#ae81ff">0.1</span>
</span></span></code></pre></div><p><img src="/kr/advanced_contents_ros2/images1/pk1.png?height=150px" alt="pk1.png"></p>
<blockquote>
<p>Publisher와 Subscriber는 서로의 Participant와 Endpoint를 찾고, 주기적으로 HEARBEAT와 ACKNACK를 주고받습니다. 이번에는 ROS 2 Publisher와 Subscriber를 실행시켜 보고 이들 사이 데이터를 주고받는 과정에서 RTPS 프로토콜이 어떻게 동작하는지, 패킷의 분석을 진행해보겠습니다.</p>
</blockquote>
<ul>
<li>터미널을 실행하여 topic publisher를 실행합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ros2 run examples_rclcpp_minimal_publisher publisher_member_function
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673789194.561595897<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_publisher<span style="color:#f92672">]</span>: Publishing: <span style="color:#e6db74">&#39;Hello, world! 0&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673789195.061600207<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_publisher<span style="color:#f92672">]</span>: Publishing: <span style="color:#e6db74">&#39;Hello, world! 1&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673789195.561601140<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_publisher<span style="color:#f92672">]</span>: Publishing: <span style="color:#e6db74">&#39;Hello, world! 2&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673789196.061605037<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_publisher<span style="color:#f92672">]</span>: Publishing: <span style="color:#e6db74">&#39;Hello, world! 3&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673789196.561602313<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_publisher<span style="color:#f92672">]</span>: Publishing: <span style="color:#e6db74">&#39;Hello, world! 4&#39;</span>
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p><img src="/kr/advanced_contents_ros2/images1/pk2.png?height=500px" alt="pk2.png"></p>
<ul>
<li>publisher node가 일정 시간마다 multicast로 RTPS DATA(p)를 송신하는 모습을 확인할 수 있습니다.</li>
</ul>
<p><img src="/kr/advanced_contents_ros2/images1/pk3.png?height=600px" alt="pk3.png"></p>
<p>Publish하는 DATA(p)에는 DEFAULT_UNITCAST_LOCATOR, DEFAULT_MULTICAST_LOCATOR, METATRAFFIC_UNICAST_LOCATER, METATRAFFIC_MUTICAST_LOCATOR정보 등 particiapnt에 대한 정보가 담겨 있습니다.</p>
<p>더불어 현재 사용하고 있는 Domain ID는 30번이기 때문에, 14900포트를 Discovery Multicast Port로 사용하게 됩니다.</p>
<ul>
<li>topic sublisher를 실행하고 다시 패킷을 수집합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ros2 run examples_rclcpp_minimal_subscriber subscriber_member_function
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673790688.700183037<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_subscriber<span style="color:#f92672">]</span>: I heard: <span style="color:#e6db74">&#39;Hello, world! 1199&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673790689.200236939<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_subscriber<span style="color:#f92672">]</span>: I heard: <span style="color:#e6db74">&#39;Hello, world! 1200&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673790689.700209001<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_subscriber<span style="color:#f92672">]</span>: I heard: <span style="color:#e6db74">&#39;Hello, world! 1201&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673790690.200257339<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_subscriber<span style="color:#f92672">]</span>: I heard: <span style="color:#e6db74">&#39;Hello, world! 1202&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>1673790690.700230772<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>minimal_subscriber<span style="color:#f92672">]</span>: I heard: <span style="color:#e6db74">&#39;Hello, world! 1203&#39;</span>
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><ul>
<li>패킷 초반부 publisher node와 subscriber node는 사이의 정보 교환(PDP)을 확인할 수 있습니다. subscribe node의 등록과, reader/writer Entity 사이 PDP가 교환되며, Data(w)는 publisher의 정보, Data(r)은 subscriber의 정보를 담고 있습니다.</li>
</ul>
<p><img src="/kr/advanced_contents_ros2/images1/pk4.png?height=250px" alt="pk4.png"></p>
<ul>
<li>PDP 이후 EDP는 데이터 타입 등 Topic에 대한 정보, QoS Profile등 많은 정보를 담고 있기 때문에 수차례 패킷 전송이 오고갑니다.</li>
</ul>
<p><img src="/kr/advanced_contents_ros2/images1/pk5.png?height=500px" alt="pk5.png"></p>

<div class="notices note" ><p>topic info verbose option을 사용하여 topic에 대한 정보와 패킷 정보를 비교해봅시다.</p>
</div>

<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ros2 topic info /topic --verbose
</span></span><span style="display:flex;"><span>Type: std_msgs/msg/String
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Publisher count: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Node name: minimal_publisher
</span></span><span style="display:flex;"><span>Node namespace: /
</span></span><span style="display:flex;"><span>Topic type: std_msgs/msg/String
</span></span><span style="display:flex;"><span>Endpoint type: PUBLISHER
</span></span><span style="display:flex;"><span>GID: f9.f7.10.01.2b.c5.e1.c7.cd.59.7c.2a.00.00.15.03.00.00.00.00.00.00.00.00
</span></span><span style="display:flex;"><span>QoS profile:
</span></span><span style="display:flex;"><span>  Reliability: RMW_QOS_POLICY_RELIABILITY_RELIABLE
</span></span><span style="display:flex;"><span>  Durability: RMW_QOS_POLICY_DURABILITY_VOLATILE
</span></span><span style="display:flex;"><span>  Lifespan: <span style="color:#ae81ff">9223372036854775807</span> nanoseconds
</span></span><span style="display:flex;"><span>  Deadline: <span style="color:#ae81ff">9223372036854775807</span> nanoseconds
</span></span><span style="display:flex;"><span>  Liveliness: RMW_QOS_POLICY_LIVELINESS_AUTOMATIC
</span></span><span style="display:flex;"><span>  Liveliness lease duration: <span style="color:#ae81ff">9223372036854775807</span> nanoseconds
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><ul>
<li>PDP와 EDP가 모두 끝나면, Publisher는 자신과 매칭 된 Subscriber에게 Topic을 Publish를 진행합니다. 주기적으로 아래 두 종류의 패킷이 반복되는 것을 확인 가능합니다.
<ul>
<li>publisher의 DATA와 HEARTBEAT 패킷</li>
<li>subscriber의 HEARTBEAT 수신 및 ACKNACK 송신 패킷</li>
</ul>
</li>
</ul>
<p><img src="/kr/advanced_contents_ros2/images1/pk6.png?height=500px" alt="pk6.png"></p>
<h3 id="ros-2-domain-id">ROS 2 Domain ID</h3>
<blockquote>
<p>DDS 시간 살펴본 바와 같이 각 DDS Participant들은 특정 Domain에 속하게 됩니다. 기본적으로 ROS 2에서는 Domain ID 0을 사용하고 있으며, 같은 Domain ID를 사용하는 Participant들 사이에서만 Discovery와 통신이 가능합니다.</p>
</blockquote>
<p>이번 시간에는 ROS 2의 Domain ID를 수정해보고, Domain ID를 설정할 시 주의해야 할 점들에 대해서도 알아보겠습니다.</p>
<ul>
<li>우선, 예시를 통해 서로 다른 Domain ID를 갖는 Participant들을 실행해봅시다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Ternimal 1</span>
</span></span><span style="display:flex;"><span>ros2 topic pub -r <span style="color:#ae81ff">1</span> /string_topic std_msgs/String <span style="color:#e6db74">&#34;{data: \&#34;Hello from my 2ND domain\&#34;}&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Terminal 2</span>
</span></span><span style="display:flex;"><span>ROS_DOMAIN_ID<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ros2 topic list
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Terminal 3</span>
</span></span><span style="display:flex;"><span>ros2 topic list
</span></span></code></pre></div><ul>
<li>예시 결과에서 알 수 있듯이 통신을 위해서는 같은 Domain ID를 갖는 조건이 필수적입니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ros2 topic list
</span></span><span style="display:flex;"><span>/parameter_events
</span></span><span style="display:flex;"><span>/rosout
</span></span><span style="display:flex;"><span>/string_topic
</span></span></code></pre></div><ul>
<li>Domain ID는 환경변수를 통해 변경할 수 있습니다. 터미널의 실행 시 Domain ID를 자동 적용하기 위해 ~/.bashrc를 수정하거나 config.yaml을 수정하시면 됩니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>export ROS_DOMAIN_ID<span style="color:#f92672">=</span>&lt;your_domain_id&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>or
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># edit ~/ros_menu/config.yaml</span>
</span></span><span style="display:flex;"><span>Config:
</span></span><span style="display:flex;"><span>  menu_enable: true
</span></span><span style="display:flex;"><span>  ros_option: menu
</span></span><span style="display:flex;"><span>  default_ros_domain_id: <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>Menu:
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  ROS <span style="color:#ae81ff">2</span> foxy:
</span></span><span style="display:flex;"><span>    option_num: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    ROS_version: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    distro_name: foxy
</span></span><span style="display:flex;"><span>    ros2_path: /opt/ros/foxy
</span></span><span style="display:flex;"><span>    domain_id: <span style="color:#75715e"># set if you don&#39;t want to use default domain id</span>
</span></span><span style="display:flex;"><span>    cmds:
</span></span></code></pre></div><ul>
<li>DDS는 Domain ID를 사용하여 Participant들이 사용할 UDP Port를 지정합니다. Port가 계산되는 방법은 아래와 같으며, 링크를 참고합니다. - <a href="https://community.rti.com/content/forum-topic/statically-configure-firewall-let-omg-dds-traffic-through">추가 링크</a></li>
</ul>
<p><img src="/kr/advanced_contents_ros2/images1/domain0.png?height=200px" alt="domain0.png"></p>
<ul>
<li>ROS 2 공식 문서에서는 Domain ID와 Participant 순서에 따라 사용되는 포트 번호를 계산해주는 계산기를 제공하고 있습니다. 이를 통해 최대 가질 수 있는 Domain ID와 Participant 수를 확인해 보겠습니다. - <a href="https://docs.ros.org/en/foxy/Concepts/About-Domain-ID.html">공식 문서 링크</a></li>
</ul>
<p><img src="/kr/advanced_contents_ros2/images1/domain1.png?height=300px" alt="domain1.png"></p>
<p><strong>Domain ID 설정 시 고려해야 할 요소들은 다음과 같습니다.</strong></p>
<ol>
<li>각 OS 별로 침범하면 안되는 포트 영역이 있습니다. <em>(Linux - 32768-60999 / Windows &amp; macOS - 49152-65535)</em></li>
<li>각 Participant당 2개의 Unicast Port를 사용합니다. 따라서, 하나의 Domain ID에서 사용할 수 있는 최대 Participant의 수는 120개 입니다. (ROS 2는 하나의 프로세스에서 여러 Node를 실행할 수 있기 때문에 Node를 120개까지 사용할 수 있는 것은 아닙니다.)</li>
</ol>
<blockquote>
<p>이러한 이유로 ROS 2 공식 문서에서는 0-101 사이의 Domain ID를 사용하기를 권장하고 있습니다.</p>
</blockquote>
<h3 id="ros-rmw와-다양한-dds-벤더들">ROS RMW와 다양한 DDS 벤더들</h3>
<blockquote>
<p>DDS 자체는 산업 표준이다보니 다양한 벤더들에서 제공되고 있습니다. ROS 2 설치 시 자동으로 Fast DDS가 사용되지만, 아래 표와 같이 다양한 DDS 벤더들이 존재하고 있습니다.</p>
</blockquote>
<p>이렇게 다양한 DDS 벤더들에 맞추기 위해 ROS 2는 <strong>RMW</strong>(“<strong>R</strong>OS <strong>M</strong>iddle<strong>W</strong>are interface”)라는 패키지들을 제공합니다. 다른 벤더의 DDS를 사용하게 되면, 이 RMW를 바꿔줘야 하는 것입니다.</p>
<table>
<thead>
<tr>
<th>Product name</th>
<th>License</th>
<th>RMW implementation</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>eProsima Fast DDS</td>
<td>Apache 2</td>
<td>rmw_fastrtps_cpp</td>
<td>Full support. Default RMW. Packaged with binary releases.</td>
</tr>
<tr>
<td>Eclipse Cyclone DDS</td>
<td>Eclipse Public License v2.0</td>
<td>rmw_cyclonedds_cpp</td>
<td>Full support. Packaged with binary releases.</td>
</tr>
<tr>
<td>RTI Connext</td>
<td>commercial, research</td>
<td>rmw_connext_cpp</td>
<td>Full support. Support included in binaries, but Connext installed separately.</td>
</tr>
<tr>
<td>GurumNetworks GurumDDS</td>
<td>commercial</td>
<td>rmw_gurumdds_cpp</td>
<td>Community support. Support included in binaries, but GurumDDS installed separately.</td>
</tr>
</tbody>
</table>

<div class="notices note" ><p>오픈소스인 Fast DDS, Cyclone DDS는 무료이지만, 더 좋은 성능을 위해서는 rti와 같은 유료 서비스를 사용하시기 바랍니다.</p>
</div>

<ul>
<li>apt를 통해 손쉽게 rmw를 설치할 수 있습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> sudo apt install ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw                              ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>fastrtps<span style="color:#f92672">-</span>dynamic<span style="color:#f92672">-</span>cpp
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>connext<span style="color:#f92672">-</span>cpp                  ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>fastrtps<span style="color:#f92672">-</span>dynamic<span style="color:#f92672">-</span>cpp<span style="color:#f92672">-</span>dbgsym
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>connext<span style="color:#f92672">-</span>cpp<span style="color:#f92672">-</span>dbgsym           ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>fastrtps<span style="color:#f92672">-</span>shared<span style="color:#f92672">-</span>cpp
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>connext<span style="color:#f92672">-</span>shared<span style="color:#f92672">-</span>cpp           ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>fastrtps<span style="color:#f92672">-</span>shared<span style="color:#f92672">-</span>cpp<span style="color:#f92672">-</span>dbgsym
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>connext<span style="color:#f92672">-</span>shared<span style="color:#f92672">-</span>cpp<span style="color:#f92672">-</span>dbgsym    ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>gurumdds<span style="color:#f92672">-</span>cpp
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>cyclonedds<span style="color:#f92672">-</span>cpp               ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>gurumdds<span style="color:#f92672">-</span>cpp<span style="color:#f92672">-</span>dbgsym
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>cyclonedds<span style="color:#f92672">-</span>cpp<span style="color:#f92672">-</span>dbgsym        ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>gurumdds<span style="color:#f92672">-</span>shared<span style="color:#f92672">-</span>cpp
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>dbgsym                       ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>gurumdds<span style="color:#f92672">-</span>shared<span style="color:#f92672">-</span>cpp<span style="color:#f92672">-</span>dbgsym
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>dds<span style="color:#f92672">-</span>common                   ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>implementation
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>dds<span style="color:#f92672">-</span>common<span style="color:#f92672">-</span>dbgsym            ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>implementation<span style="color:#f92672">-</span>cmake
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>fastrtps<span style="color:#f92672">-</span>cpp                 ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>implementation<span style="color:#f92672">-</span>dbgsym
</span></span><span style="display:flex;"><span>ros<span style="color:#f92672">-</span>foxy<span style="color:#f92672">-</span>rmw<span style="color:#f92672">-</span>fastrtps<span style="color:#f92672">-</span>cpp<span style="color:#f92672">-</span>dbgsym
</span></span></code></pre></div><p>ROS 2 시스템 상에서 사용하는 DDS 벤더를 바꾸는 것은 환경변수를 설정하는 것으로 손쉽게 진행할 수 있습니다. (해당 DDS와 RMW가 설치되어 있다는 가정 하에) 더불어, 서로 다른 벤더의 DDS를 사용하고 있더라도 DDS 표준(SPDP와 SEDP)을 따르고 있다면 상호 통신이 가능합니다.</p>
<ul>
<li><strong>Example</strong> - Fast DDS &lt;&gt; Cyclone DDS 상호간 Topic 통신</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> <span style="color:#66d9ef">export</span> RMW_IMPLEMENTATION<span style="color:#f92672">=</span>rmw_cyclonedds_cpp
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> ros2 run demo_nodes_cpp listener
</span></span><span style="display:flex;"><span>[INFO]<span style="color:#f92672">:</span> I heard: [Hello World: <span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>[INFO]<span style="color:#f92672">:</span> I heard: [Hello World: <span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>[INFO]<span style="color:#f92672">:</span> I heard: [Hello World: <span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> <span style="color:#66d9ef">export</span> RMW_IMPLEMENTATION<span style="color:#f92672">=</span>rmw_fastrtps_cpp
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> ros2 run demo_nodes_cpp talker
</span></span><span style="display:flex;"><span>[INFO]<span style="color:#f92672">:</span> Publishing: <span style="color:#960050;background-color:#1e0010">&#39;</span>Hello World: <span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>[INFO]<span style="color:#f92672">:</span> Publishing: <span style="color:#960050;background-color:#1e0010">&#39;</span>Hello World: <span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>[INFO]<span style="color:#f92672">:</span> Publishing: <span style="color:#960050;background-color:#1e0010">&#39;</span>Hello World: <span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span></code></pre></div>
<div class="notices tip" ><p>예시의 실행에서 지연이 발생함으로 알 수 있듯이, 실제 제품을 제작할 때는 사용하는 RMW를 통일시켜주는 것을 추천합니다.</p>
</div>

<ul>
<li>강의 개발환경에서 제공하는 설치 튜토리얼을 따라오셨다면 <strong>config.yaml</strong> 파일을 수정함으로 손쉽게 DDS Vendor를 변경하실 수 있습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ gedit ~/ros_menu/config.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ROS <span style="color:#ae81ff">2</span> foxy:
</span></span><span style="display:flex;"><span>    option_num: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    ROS_version: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    distro_name: foxy
</span></span><span style="display:flex;"><span>    ros2_path: /opt/ros/foxy
</span></span><span style="display:flex;"><span>    domain_id: <span style="color:#75715e"># set if you don&#39;t want to use default domain id</span>
</span></span><span style="display:flex;"><span>    cmds:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># - source ${HOME}/ros2_ws/install/local_setup.${shell}</span>
</span></span><span style="display:flex;"><span>      - source_plugin dds_bashrc <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># - source_plugin openvino_bashrc</span>
</span></span></code></pre></div><p>제공되는 기본 DDS Vendor들은 아래와 같습니다.</p>
<table>
<thead>
<tr>
<th>Number</th>
<th>DDS Vendor</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Show Menu</td>
</tr>
<tr>
<td>1</td>
<td>Eclipse Cyclone DDS</td>
</tr>
<tr>
<td>2</td>
<td>OpenSplice</td>
</tr>
<tr>
<td>3</td>
<td>FastRTPS</td>
</tr>
</tbody>
</table>
<ul>
<li>dds_bashrc를 0으로 수정한 다음 새로운 터미널을 실행시키면, 아래와 같이 DDS를 선택하는 옵션이 등장합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>0<span style="color:#f92672">)</span> Do nothing
</span></span><span style="display:flex;"><span>1<span style="color:#f92672">)</span> ROS <span style="color:#ae81ff">1</span> noetic
</span></span><span style="display:flex;"><span>2<span style="color:#f92672">)</span> ROS <span style="color:#ae81ff">2</span> foxy
</span></span><span style="display:flex;"><span>3<span style="color:#f92672">)</span> ROS2/ROS1_bridge
</span></span><span style="display:flex;"><span>Please choose an option: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>------------------------------------------------------
</span></span><span style="display:flex;"><span>* ROS_DOMAIN_ID <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>------------------------------------------------------
</span></span><span style="display:flex;"><span>source /home/kimsooyoung/.ros_menu/plugins_bashrc/dds_bashrc <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>**** Choose DDS you want to use ****
</span></span><span style="display:flex;"><span>1<span style="color:#f92672">)</span> Eclipse Cyclone DDS
</span></span><span style="display:flex;"><span>2<span style="color:#f92672">)</span> OpenSplice CE
</span></span><span style="display:flex;"><span>3<span style="color:#f92672">)</span> FastRTPS
</span></span><span style="display:flex;"><span>Please choose an option 1-3:
</span></span></code></pre></div><hr>
<p><strong>참고자료</strong></p>
<ul>
<li><a href="https://blog.naver.com/neos_rtos">MDS테크</a></li>
<li><a href="https://cafe.naver.com/openrt/24031">로봇 운영체제 강좌</a></li>
<li><a href="https://community.rti.com/static/documentation/connext-dds/5.3.0/doc/manuals/connext_dds/html_files/RTI_ConnextDDS_CoreLibraries_UsersManual/Content/UsersManual">community.rti.com</a></li>
<li><a href="https://docs.ros.org/en/foxy/Concepts/About-Domain-ID.html">docs.ros.org</a></li>
<li><a href="https://github.com/ADLINK-IST/opensplice">https://github.com/ADLINK-IST/opensplice</a></li>
</ul>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/kr/advanced_contents_ros2/lecture1/" title="Lecture1 - About DDS"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/kr/advanced_contents_ros2/lecture3/" title="Lecture12 - SROS2" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1684760080"></script>
    <script src="/js/perfect-scrollbar.min.js?1684760080"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1684760080"></script>
    <script src="/js/jquery.sticky.js?1684760080"></script>
    <script src="/js/featherlight.min.js?1684760080"></script>
    <script src="/js/highlight.pack.js?1684760080"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1684760080"></script>
    <script src="/js/learn.js?1684760080"></script>
    <script src="/js/hugo-learn.js?1684760080"></script>
    
        
            <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

